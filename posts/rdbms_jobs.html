<!doctype html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TZZ1VK3VGL"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'G-TZZ1VK3VGL');</script>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg" href="img/logo.svg">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://servicestack.net/feed.xml" />
    <title>RDBMS Background Jobs - ServiceStack</title>
    <base href="/" />
    <script>
    if (location.search === "?dark") localStorage.setItem('color-scheme','dark') 
    if (location.search === "?light") localStorage.removeItem('color-scheme') 
    const cls = document.querySelector('html').classList
    if (localStorage.getItem('color-scheme') === 'dark')
        cls.add('dark')
    else
        cls.remove('dark')
    </script>
    <link rel="stylesheet" href="css/app.css">

    <script type="importmap">
{
    "imports": {
        "app.mjs": "./mjs/app.mjs",
        "dtos.mjs": "./mjs/dtos.mjs",
        "vue": "./lib/mjs/vue.min.mjs",
        "@servicestack/client": "./lib/mjs/servicestack-client.min.mjs",
        "@servicestack/vue": "./lib/mjs/servicestack-vue.min.mjs",
        "highlight.mjs": "./lib/mjs/highlight.mjs",
        "core": "./js/core.mjs"
    }
}
</script>
    
    <meta name="twitter:site" content="@ServiceStack" />
    <meta name="twitter:creator" content="@demisbellot" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:description" content="Run Background Jobs and Scheduled Tasks in PostgreSQL, SQL Server or MySQL" />
    <meta property="og:url" content="https://servicestack.net/posts/rdbms_jobs" />
    <meta property="og:title" content="RDBMS Background Jobs" />
    <meta property="og:image" content="./img/posts/background-jobs/bg.webp" />


</head>
<body class="bg-white dark:bg-black dark:text-white">
<header class="top-0 fixed z-50 h-14 bg-white dark:bg-black opacity-90 w-full shadow pr-3">
    <div class="w-full flex flex-wrap items-center">
        <div class="absolute z-10 top-2 left-2 sm:static flex-shrink flex-grow-0">
            <div class="cursor-pointer">
                <a class="navbar-brand flex items-center" href="./">
                    <svg class="w-8 h-8 sm:ml-2 sm:w-12 sm:h-12 text-gray-900 dark:text-gray-50" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M10 6c1.544 1.76 2.276 4.15 2.217 6.61c3.968 1.67 9.924 6.12 11.181 12.39H28C26.051 14.31 14.918 6.77 10 6zm-2 7c4.67 4.913.81 11.582-4 12h18.97C21.5 18.289 11.95 13.533 8 13z"/></svg>
                    <span class="hidden sm:block text-2xl font-bold text-gray-900 dark:text-gray-50">ServiceStack</span>
                </a>
            </div>
        </div>
        <div class="flex flex-grow flex-shrink flex-nowrap justify-end items-center">
            <nav class="relative flex flex-grow leading-6 font-semibold text-slate-700 dark:text-slate-200">
                <ul class="flex flex-wrap items-center justify-end w-full m-0 pb-2 sm:pb-0">
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/blog" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Blog
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/posts/" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Archive
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/podcasts" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Podcasts
                                </a>
                            </li>
                    <li class="relative flex flex-wrap just-fu-start m-0">
                        <div data-component="DarkModeToggle" class="ml-2 w-10"></div>
                    </li>
                </ul>
            </nav>

        </div>
    </div>
</header>
<script type="module">
import { mountAll } from "app.mjs"
mountAll()
</script>


<div class="min-h-screen">
    <main role="main" class="pt-14">
        



<link rel="stylesheet" href="css/typography.css">
<link rel="stylesheet" href="css/lite-yt-embed.css">

<div class="container px-5 mb-32 mx-auto">
        <article class="mt-20">
            <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">
                RDBMS Background Jobs
            </h1>
            <div class="flex flex-wrap justify-between">
                <div class="md:mb-12 flex items-center">
                        <a href="posts/author/demis-bellot"><img class="w-12 h-12 rounded-full mr-4 text-cyan-600" src="/img/authors/demis.webp"></a>
                    <div class="flex flex-col">
                            <a class="text-xl font-semibold hover:underline" href="posts/author/demis-bellot">Demis Bellot</a>
            <ul role="list" class="flex">
                    <li>
                        <a title="Follow on Twitter" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://twitter.com/demisbellot">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                <path d="M20.055 7.983c.011.174.011.347.011.523 0 5.338-3.92 11.494-11.09 11.494v-.003A10.755 10.755 0 0 1 3 18.186c.308.038.618.057.928.058a7.655 7.655 0 0 0 4.841-1.733c-1.668-.032-3.13-1.16-3.642-2.805a3.753 3.753 0 0 0 1.76-.07C5.07 13.256 3.76 11.6 3.76 9.676v-.05a3.77 3.77 0 0 0 1.77.505C3.816 8.945 3.288 6.583 4.322 4.737c1.98 2.524 4.9 4.058 8.034 4.22a4.137 4.137 0 0 1 1.128-3.86A3.807 3.807 0 0 1 19 5.274a7.657 7.657 0 0 0 2.475-.98c-.29.934-.9 1.729-1.713 2.233A7.54 7.54 0 0 0 22 5.89a8.084 8.084 0 0 1-1.945 2.093Z"></path>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Follow on threads.net" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://threads.net/@demisbellot">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7.5c-1.333-3-3.667-4.5-7-4.5c-5 0-8 2.5-8 9s3.5 9 8 9s7-3 7-5s-1-5-7-5c-2.5 0-3 1.25-3 2.5C9 15 10 16 11.5 16c2.5 0 3.5-1.5 3.5-5s-2-4-3-4s-1.833.333-2.5 1"/>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Follow on GitHub" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://github.com/mythz">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.475 2 2 6.588 2 12.253c0 4.537 2.862 8.369 6.838 9.727.5.09.687-.218.687-.487 0-.243-.013-1.05-.013-1.91C7 20.059 6.35 18.957 6.15 18.38c-.113-.295-.6-1.205-1.025-1.448-.35-.192-.85-.667-.013-.68.788-.012 1.35.744 1.538 1.051.9 1.551 2.338 1.116 2.912.846.088-.666.35-1.115.638-1.371-2.225-.256-4.55-1.14-4.55-5.062 0-1.115.387-2.038 1.025-2.756-.1-.256-.45-1.307.1-2.717 0 0 .837-.269 2.75 1.051.8-.23 1.65-.346 2.5-.346.85 0 1.7.115 2.5.346 1.912-1.333 2.75-1.05 2.75-1.05.55 1.409.2 2.46.1 2.716.637.718 1.025 1.628 1.025 2.756 0 3.934-2.337 4.806-4.562 5.062.362.32.675.936.675 1.897 0 1.371-.013 2.473-.013 2.82 0 .268.188.589.688.486a10.039 10.039 0 0 0 4.932-3.74A10.447 10.447 0 0 0 22 12.253C22 6.588 17.525 2 12 2Z"></path>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Email Demis Bellot" href="mailto:demis@servicestack.com" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500">
                            <svg class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M4 20q-.825 0-1.413-.588T2 18V6q0-.825.588-1.413T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.588 1.413T20 20H4Zm8-7L4 8v10h16V8l-8 5Zm0-2l8-5H4l8 5ZM4 8V6v12V8Z"/></svg>
                        </a>
                    </li>
            </ul>
                    </div>
                </div>
                        <div data-component="pages/podcasts/AudioPlayer.mjs" 
                             data-props="{ id:'rdbms_jobs', title:'RDBMS Background Jobs', src:'https://media.servicestack.com/podcasts/rdbms_jobs.mp3', beaconUrl:'https://servicestack.net/stats/podcast/record?name=rdbms_jobs&amp;source=post&amp;version=8.10.1', variant:'compact' }"
                             class="mt-4 md:w-[450px] md:mt-0"></div>
                <div class="mb-4 max-w-sm" data-mail="JoinMailingList" data-props="{ submitLabel:'Join our newsletter' }"></div>
            </div>
            
            <div class="mb-8 md:mb-16 sm:mx-0">
                <div class="sm:mx-0">
                    <img src="./img/posts/background-jobs/bg.webp" alt="RDBMS Background Jobs Background" class="shadow-small">
                </div>
            </div>
            <div class="flex max-w-3xl mx-auto justify-between">
                <div>
                    <div class="mb-4 flex flex-wrap">
                        <a href="posts/tagged/db" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">db</a>
                        <a href="posts/tagged/ormlite" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">ormlite</a>
                        <a href="posts/tagged/jobs" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">jobs</a>
                    </div>
                        <div class="max-w-3xl mx-auto">
                            <div class="mb-6 text-lg text-gray-500">
                                <time datetime="2025-10-23T00:00:00.0000000">October 23, 2025</time>
                                <span aria-hidden="true">&middot;</span>
                                <span>23 min read</span>
                            </div>
                        </div>
                </div>
                <div class="flex flex-grow-0">
                    <div data-post="PostVotes"></div>
                    <a href="javascript:;" onclick="document.location.hash='comments'" class="cursor-pointer" title="Jump to comments">
                        <svg class="ml-4 text-gray-700 mt-1 w-7 h-7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M3 11.2c0 .1 0 .1 0 0c0 .1 0 .1 0 0zM8.3 1C3.9 1 0 3.6 0 6.6c0 2 1.1 3.7 3 4.7s0 .1 0 .1c-.1 1.3-.9 1.7-.9 1.7L.3 14h2c2.5 0 4.3-1.1 5.1-1.9h.8c4.3 0 7.8-2.5 7.8-5.6S12.6 1 8.3 1zm-.1 10.1H7l-.2.2c-.5.5-1.6 1.4-3.3 1.7c.3-.5.5-1.1.5-2v-.3l-.3-.1C1.9 9.7 1 8.3 1 6.6C1 4.2 4.5 2 8.3 2C12 2 15 4 15 6.6c0 2.4-3.1 4.5-6.8 4.5z"/></svg>
                    </a>
                </div>
            </div>
            <div class="max-w-3xl mx-auto">
                <div id="post" class="prose lg:prose-xl max-w-none mb-32">
                    <p>We're excited to announce that we've ported our much loved <a href="https://docs.servicestack.net/background-jobs">Background Jobs</a>
feature to the popular <strong>PostgreSQL</strong>, <strong>SQL Server</strong> and <strong>MySQL</strong> RDBMS's!</p>
<p>Since launching <a href="https://servicestack.net/posts/background-jobs">Background Jobs</a> in September 2024, it's become
one of our most popular features - providing a simple, infrastructure-free solution for managing background jobs
and scheduled tasks in .NET 8+ Apps. The original implementation used SQLite for its durability, which worked
beautifully for many use cases thanks to SQLite's low latency, fast disk persistence, and zero infrastructure requirements.</p>
<p>However, we recognize that many of our customers need the features and scalability of industrial-strength RDBMS systems.
Whether it's for leveraging existing database infrastructure, meeting enterprise requirements, or utilizing advanced
database features like native table partitioning - we wanted to ensure Background Jobs could work seamlessly with
your preferred database platform.</p>
<h2 id="introducing-databasejobsfeature">Introducing DatabaseJobsFeature<a class="header-anchor" href="javascript:;" onclick="location.hash='#introducing-databasejobsfeature'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The new <strong>DatabaseJobsFeature</strong> is a purpose-built implementation for PostgreSQL, SQL Server, and MySQL that's
a drop-in replacement for SQLite's <strong>BackgroundsJobFeature</strong>. It maintains the same simple API, data models,
and service contracts - making migration from SQLite straightforward while unlocking the power of enterprise RDBMS platforms.</p>
<p>Best of all, it can be added to an existing .NET 8+ project with a single command using our
<a href="https://docs.servicestack.net/mix-tool">mix tool</a>:</p>
<h2 id="quick-start">Quick Start<a class="header-anchor" href="javascript:;" onclick="location.hash='#quick-start'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<h3 id="for-identity-auth-projects">For Identity Auth Projects<a class="header-anchor" href="javascript:;" onclick="location.hash='#for-identity-auth-projects'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you're using <a href="https://servicestack.net/start">ServiceStack ASP.NET Identity Auth</a> templates, simply run:</p>
<div class="sh mb-4"><div class="not-prose group relative overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer" onclick="shellCopy(this)">
                <!-- Background pattern -->
                <div class="absolute inset-0 bg-grid-slate-100 dark:bg-grid-slate-800 opacity-50" style="background-image: radial-gradient(circle, rgba(0,0,0,0.05) 1px, transparent 1px); background-size: 16px 16px;"></div>

                <div class="relative flex items-center justify-between px-4 py-3">
                    <!-- Left side - Terminal icon and command -->
                    <div class="flex items-center gap-3 flex-1 min-w-0">
                        <svg class="w-4 h-4 text-slate-500 dark:text-slate-400 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19h8"/><path d="m4 17 6-6-6-6"/></svg>
                        <div class="flex items-center gap-2 min-w-0 flex-1">
                            <code class="text-sm font-mono text-slate-900 dark:text-slate-100 truncate"><p>x mix db-identity</p>
</code>
                            </div>
                        </div>

                        <!-- Right side - Copy button -->
                        <div class="flex items-center gap-2 ml-4">
                            <button class="shell-copy-btn flex items-center justify-center p-2 rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-400 dark:hover:border-slate-500" aria-label="Copy command">
                                <svg class="copied w-4 h-4" style="display:none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
                                <svg class="nocopy w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            </button>
                        </div>
                    </div>
                </div>
</div>
<p>This replaces both <code>Configure.BackgroundJobs.cs</code> and <code>Configure.RequestLogs.cs</code> with RDBMS-compatible versions
that use <code>DatabaseJobsFeature</code> for background jobs and <code>DbRequestLogger</code> for API request logging.</p>
<h3 id="for-other.net-8-apps">For Other .NET 8+ Apps<a class="header-anchor" href="javascript:;" onclick="location.hash='#for-other.net-8-apps'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>For all other ServiceStack applications, use:</p>
<div class="sh mb-4"><div class="not-prose group relative overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer" onclick="shellCopy(this)">
                <!-- Background pattern -->
                <div class="absolute inset-0 bg-grid-slate-100 dark:bg-grid-slate-800 opacity-50" style="background-image: radial-gradient(circle, rgba(0,0,0,0.05) 1px, transparent 1px); background-size: 16px 16px;"></div>

                <div class="relative flex items-center justify-between px-4 py-3">
                    <!-- Left side - Terminal icon and command -->
                    <div class="flex items-center gap-3 flex-1 min-w-0">
                        <svg class="w-4 h-4 text-slate-500 dark:text-slate-400 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19h8"/><path d="m4 17 6-6-6-6"/></svg>
                        <div class="flex items-center gap-2 min-w-0 flex-1">
                            <code class="text-sm font-mono text-slate-900 dark:text-slate-100 truncate"><p>x mix db-jobs</p>
</code>
                            </div>
                        </div>

                        <!-- Right side - Copy button -->
                        <div class="flex items-center gap-2 ml-4">
                            <button class="shell-copy-btn flex items-center justify-center p-2 rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-400 dark:hover:border-slate-500" aria-label="Copy command">
                                <svg class="copied w-4 h-4" style="display:none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
                                <svg class="nocopy w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
                            </button>
                        </div>
                    </div>
                </div>
</div>
<p>This replaces <code>Configure.BackgroundJobs.cs</code> to use the new <code>DatabaseJobsFeature</code>:</p>
<pre><code class="language-csharp">public class ConfigureBackgroundJobs : IHostingStartup
{
    public void Configure(IWebHostBuilder builder) =&gt; builder
        .ConfigureServices(services =&gt; {
            services.AddPlugin(new CommandsFeature());
            services.AddPlugin(new DatabaseJobsFeature {
                // Optional: Use a separate named connection
                // NamedConnection = &quot;jobs&quot;
            });
            services.AddHostedService&lt;JobsHostedService&gt;();
         }).ConfigureAppHost(afterAppHostInit: appHost =&gt; {
            var services = appHost.GetApplicationServices();
            var jobs = services.GetRequiredService&lt;IBackgroundJobs&gt;();
            // Example: Register recurring jobs to run on a schedule
            // jobs.RecurringCommand&lt;MyCommand&gt;(Schedule.Hourly);
        });
}

public class JobsHostedService(ILogger&lt;JobsHostedService&gt; log, IBackgroundJobs jobs)
    : BackgroundService
{
    protected override async Task ExecuteAsync(CancellationToken stoppingToken)
    {
        await jobs.StartAsync(stoppingToken);

        using var timer = new PeriodicTimer(TimeSpan.FromSeconds(3));
        while (!stoppingToken.IsCancellationRequested &amp;&amp;
               await timer.WaitForNextTickAsync(stoppingToken))
        {
            await jobs.TickAsync();
        }
    }
}
</code></pre>
<h2 id="seamless-migration-from-sqlite">Seamless Migration from SQLite<a class="header-anchor" href="javascript:;" onclick="location.hash='#seamless-migration-from-sqlite'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>We've maintained the same <code>IBackgroundJobs</code> interface, data models, and API service contracts, which means:</p>
<ul>
<li><strong>Zero code changes</strong> to your existing job enqueueing logic</li>
<li><strong>Same Admin UI</strong> for monitoring and managing jobs</li>
<li><strong>Compatible APIs</strong> - all your existing commands and job configurations work as-is</li>
</ul>
<p>The only change needed is swapping <code>BackgroundsJobFeature</code> for <code>DatabaseJobsFeature</code> in your configuration!</p>
<p>Watch our video introduction to Background Jobs to see it in action:</p>
<lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="2Cza_a_rrjA" playlabel="Durable C# Background Jobs and Scheduled Tasks for .NET" style="background-image:url('https://img.youtube.com/vi/2Cza_a_rrjA/maxresdefault.jpg')"></lite-youtube>
<h2 id="smart-rdbms-optimizations">Smart RDBMS Optimizations<a class="header-anchor" href="javascript:;" onclick="location.hash='#smart-rdbms-optimizations'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>One of the key benefits of SQLite Background Jobs was the ability to maintain completed and failed job history in
separate <strong>monthly databases</strong> (e.g., <code>jobs_2025-01.db</code>, <code>jobs_2025-02.db</code>). This prevented unbounded database growth
and made it easy to archive or delete old job history.</p>
<p>For <code>DatabaseJobsFeature</code>, we've replicated this monthly partitioning strategy using <strong>monthly partitioned tables</strong>
for the <code>CompletedJob</code> and <code>FailedJob</code> archive tables - but the implementation varies by database platform to leverage
each RDBMS's strengths.</p>
<h3 id="postgresql-native-table-partitioning">PostgreSQL - Native Table Partitioning<a class="header-anchor" href="javascript:;" onclick="location.hash='#postgresql-native-table-partitioning'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>PostgreSQL provides native support for table partitioning, allowing us to automatically create monthly partitions using
<code>PARTITION BY RANGE</code> on the <code>CreatedDate</code> column. The <code>DatabaseJobFeature</code> automatically creates new monthly partitions
as needed, maintaining the same logical separation as SQLite's monthly .db's while keeping everything within a single
Postgres DB:</p>
<pre><code class="language-sql">CREATE TABLE CompletedJob (
    -- columns...
    CreatedDate TIMESTAMP NOT NULL,
    PRIMARY KEY (&quot;Id&quot;,&quot;CreatedDate&quot;)
) PARTITION BY RANGE (&quot;CreatedDate&quot;);

-- Monthly partitions are automatically created, e.g.:
CREATE TABLE CompletedJob_2025_01 PARTITION OF CompletedJob
    FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');
</code></pre>
<p>This provides excellent query performance since PostgreSQL can use partition pruning to only scan relevant monthly partitions
when filtering by <code>CreatedDate</code>.</p>
<h3 id="sqlserver-mysql-manual-partition-management">SQLServer / MySQL - Manual Partition Management<a class="header-anchor" href="javascript:;" onclick="location.hash='#sqlserver-mysql-manual-partition-management'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>For <strong>SQL Server</strong> and <strong>MySQL</strong>, monthly partitioned tables need to be created <strong>out-of-band</strong>
(either manually or via cronjob scripts) since they don't support the same level of automatic
partition management as PostgreSQL. However, this still works well in practice as it uses:</p>
<ol>
<li><p><strong>Write-Only Tables</strong> - The <code>CompletedJob</code> and <code>FailedJob</code> tables are write-only append tables. Jobs are never updated after completion or failure, only inserted.</p>
</li>
<li><p><strong>CreatedDate Index</strong> - All queries against these tables use the <code>CreatedDate</code> indexed column for filtering and sorting, ensuring efficient access patterns even as the tables grow.</p>
</li>
</ol>
<p>The indexed <code>CreatedDate</code> column ensures that queries remain performant regardless of table size, and the write-only
nature means there's no complex update logic to manage across partitions.</p>
<p>This approach maintains the same benefits as SQLite's monthly databases - easy archival, manageable table sizes,
and efficient queries - while leveraging the scalability and features of enterprise RDBMS systems.</p>
<h3 id="separate-jobs-database">Separate Jobs Database<a class="header-anchor" href="javascript:;" onclick="location.hash='#separate-jobs-database'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Or if preferred, you can maintain background jobs in a <strong>separate database</strong> from your main application database.
This separation keeps the write-heavy job processing load off your primary database, allowing you to optimize
each database independently for its specific workload patterns like maintaining different backup strategies
for your critical application data vs. job history.</p>
<pre><code class="language-csharp">// Configure.Db.cs
services.AddOrmLite(options =&gt; options.UsePostgres(connectionString))
        .AddPostgres(&quot;jobs&quot;, jobsConnectionString);

// Configure.BackgroundJobs.cs
services.AddPlugin(new DatabaseJobFeature {
    NamedConnection = &quot;jobs&quot;
});
</code></pre>
<h3 id="real-time-admin-ui">Real Time Admin UI<a class="header-anchor" href="javascript:;" onclick="location.hash='#real-time-admin-ui'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The Jobs Admin UI provides a real time view into the status of all background jobs including their progress, completion times,
Executed, Failed, and Cancelled Jobs, etc. which is useful for monitoring and debugging purposes.</p>
<p><a href="/img/posts/background-jobs/jobs-dashboard.webp"><img src="/img/posts/background-jobs/jobs-dashboard.webp" alt="" /></a></p>
<p>View Real-time progress of queued Jobs</p>
<p><a href="/img/posts/background-jobs/jobs-queue.webp"><img src="/img/posts/background-jobs/jobs-queue.webp" alt="" /></a></p>
<p>View real-time progress logs of executing Jobs</p>
<p><a href="/img/posts/background-jobs/jobs-logs.webp"><img src="/img/posts/background-jobs/jobs-logs.webp" alt="" /></a></p>
<p>View Job Summary and Monthly Databases of Completed and Failed Jobs</p>
<p><a href="/img/posts/background-jobs/jobs-completed.webp"><img src="/img/posts/background-jobs/jobs-completed.webp" alt="" /></a></p>
<p>View full state and execution history of each Job</p>
<p><a href="/img/posts/background-jobs/jobs-failed.webp"><img src="/img/posts/background-jobs/jobs-failed.webp" alt="" /></a></p>
<p>Cancel Running jobs and Requeue failed jobs</p>
<h2 id="usage">Usage<a class="header-anchor" href="javascript:;" onclick="location.hash='#usage'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>For even greater reuse of your APIs you're able to queue your existing ServiceStack Request DTOs
as a Background Job in addition to <a href="https://docs.servicestack.net/commands">Commands</a>
for encapsulating units of logic into internal invocable, inspectable and auto-retryable building blocks.</p>
<h3 id="queue-commands">Queue Commands<a class="header-anchor" href="javascript:;" onclick="location.hash='#queue-commands'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Any API, Controller or Minimal API can execute jobs with the <code>IBackgroundJobs</code> dependency, e.g.
here's how you can run a background job to send a new email when an API is called in
any new Identity Auth template:</p>
<pre><code class="language-csharp">class MyService(IBackgroundJobs jobs) : Service 
{
    public object Any(MyOrder request)
    {
        var jobRef = jobs.EnqueueCommand&lt;SendEmailCommand&gt;(new SendEmail {
            To = &quot;my@email.com&quot;,
            Subject = $&quot;Received New Order {request.Id}&quot;,
            BodyText = $&quot;&quot;&quot;
                       Order Details:
                       {request.OrderDetails.DumpTable()}
                       &quot;&quot;&quot;,
        });
        //...
    }
}
</code></pre>
<p>Which records and immediately executes a worker to execute the <code>SendEmailCommand</code> with the specified
<code>SendEmail</code> Request argument. It also returns a reference to a Job which can be used later to query
and track the execution of a job.</p>
<h3 id="queue-apis">Queue APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#queue-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Alternatively a <code>SendEmail</code> API could be executed with just the Request DTO:</p>
<pre><code class="language-csharp">var jobRef = jobs.EnqueueApi(new SendEmail {
    To = &quot;my@email.com&quot;,
    Subject = $&quot;Received New Order {request.Id}&quot;,
    BodyText = $&quot;&quot;&quot;
               Order Details:
               {request.OrderDetails.DumpTable()}
               &quot;&quot;&quot;,
});
</code></pre>
<p>Although Sending Emails is typically not an API you want to make externally available and would
want to <a href="https://docs.servicestack.net/auth/restricting-services">Restrict access</a> or <a href="https://docs.servicestack.net/auth/identity-auth#declarative-validation-attributes">limit usage to specified users</a>.</p>
<p>In both cases the <code>SendEmail</code> Request is persisted into the Jobs SQLite database for durability
that gets updated as it progresses through the queue.</p>
<p>For execution the API or command is resolved from the IOC before being invoked with the Request.
APIs are executed via the <a href="https://docs.servicestack.net/order-of-operations">MQ Request Pipeline</a>
and commands executed using the <a href="https://docs.servicestack.net/commands">Commands Feature</a> where
they'll also be visible in the <a href="https://docs.servicestack.net/commands#command-admin-ui">Commands Admin UI</a>.</p>
<h3 id="background-job-options">Background Job Options<a class="header-anchor" href="javascript:;" onclick="location.hash='#background-job-options'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The behavior for each <code>Enqueue*</code> method for executing background jobs can be customized with
the following options:</p>
<ul>
<li><code>Worker</code> - Serially process job using a named worker thread</li>
<li><code>Callback</code> - Invoke another command with the result of a successful job</li>
<li><code>DependsOn</code> - Execute jobs after successful completion of a dependent job
<ul>
<li>If parent job fails all dependent jobs are cancelled</li>
</ul>
</li>
<li><code>UserId</code> - Execute within an Authenticated User Context</li>
<li><code>RunAfter</code> - Queue jobs that are only run after a specified date</li>
<li><code>RetryLimit</code> - Override default retry limit for how many attempts should be made to execute a job</li>
<li><code>TimeoutSecs</code> - Override default timeout for how long a job should run before being cancelled</li>
<li><code>RefId</code> - Allow clients to specify a unique Id (e.g Guid) to track job</li>
<li><code>Tag</code> - Group related jobs under a user specified tag</li>
<li><code>CreatedBy</code> - Optional field for capturing the owner of a job</li>
<li><code>BatchId</code> - Group multiple jobs with the same Id</li>
<li><code>ReplyTo</code> - Optional field for capturing where to send notification for completion of a Job</li>
<li><code>Args</code> - Optional String Dictionary of Arguments that can be attached to a Job</li>
</ul>
<h3 id="feature-overview">Feature Overview<a class="header-anchor" href="javascript:;" onclick="location.hash='#feature-overview'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>It packs most features needed in a Background Jobs solution including:</p>
<ul>
<li>Use your App's existing RDBMS (no other infrastructure dependencies)</li>
<li>Execute existing APIs or versatile Commands
<ul>
<li>Commands auto registered in IOC</li>
</ul>
</li>
<li>Scheduled Reoccurring Tasks
<ul>
<li>Track Last Job Run</li>
</ul>
</li>
<li>Serially execute jobs with the same named Worker</li>
<li>Queue Jobs dependent on successful completion of parent Job</li>
<li>Queue Jobs to be executed after a specified Date</li>
<li>Execute Jobs within the context of an Authenticated User</li>
<li>Auto retry failed jobs on a default or per-job limit</li>
<li>Timeout Jobs on a default or per-job limit</li>
<li>Cancellable Jobs</li>
<li>Requeue Failed Jobs</li>
<li>Execute custom callbacks on successful execution of Job</li>
<li>Maintain Status, Logs, and Progress of Executing Jobs</li>
<li>Execute transitive (i.e. non-durable) jobs using named workers</li>
<li>Attach optional <code>Tag</code>, <code>BatchId</code>, <code>CreatedBy</code>, <code>ReplyTo</code> and <code>Args</code> with Jobs</li>
</ul>
<p>Please <a href="https://servicestack.net/ideas">let us know</a> of any other missing features you'd love to see implemented.</p>
<h2 id="schedule-recurring-tasks">Schedule Recurring Tasks<a class="header-anchor" href="javascript:;" onclick="location.hash='#schedule-recurring-tasks'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>In addition to queueing jobs to run in the background, it also supports scheduling recurring tasks
to execute APIs or Commands at fixed intervals.</p>
<lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="DtB8KaXXMCM" playlabel="Schedule your Reoccurring Tasks with Background Jobs!" style="background-image:url('https://img.youtube.com/vi/DtB8KaXXMCM/maxresdefault.jpg')"></lite-youtube>
<p>APIs and Commands can be scheduled to run at either a <code>TimeSpan</code> or
<a href="https://github.com/HangfireIO/Cronos?tab=readme-ov-file#cron-format">CRON Expression</a> interval, e.g:</p>
<h3 id="cron-expression-examples">CRON Expression Examples<a class="header-anchor" href="javascript:;" onclick="location.hash='#cron-expression-examples'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<pre><code class="language-csharp">// Every Minute Expression
jobs.RecurringCommand&lt;CheckUrlsCommand&gt;(Schedule.Cron(&quot;* * * * *&quot;));

// Every Minute Constant
jobs.RecurringCommand&lt;CheckUrlsCommand&gt;(Schedule.EveryMinute, new CheckUrls {
    Urls = urls
});
</code></pre>
<h3 id="cron-format">CRON Format<a class="header-anchor" href="javascript:;" onclick="location.hash='#cron-format'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>You can use any <strong>unix-cron format</strong> expression supported by the <a href="https://github.com/HangfireIO/Cronos">HangfireIO/Cronos</a> library:</p>
<pre><code class="language-txt">|------------------------------- Minute (0-59)
|     |------------------------- Hour (0-23)
|     |     |------------------- Day of the month (1-31)
|     |     |     |------------- Month (1-12; or JAN to DEC)
|     |     |     |     |------- Day of the week (0-6; or SUN to SAT)
|     |     |     |     |
|     |     |     |     |
*     *     *     *     *
</code></pre>
<p>The allowed formats for each field include:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Format of valid values</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minute</td>
<td>0-59</td>
</tr>
<tr>
<td>Hour</td>
<td>0-23</td>
</tr>
<tr>
<td>Day of the month</td>
<td>1-31</td>
</tr>
<tr>
<td>Month</td>
<td>1-12 (or JAN to DEC)</td>
</tr>
<tr>
<td>Day of the week</td>
<td>0-6 (or SUN to SAT; or 7 for Sunday)</td>
</tr>
</tbody>
</table>
<h4 id="matching-all-values">Matching all values<a class="header-anchor" href="javascript:;" onclick="location.hash='#matching-all-values'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>To match all values for a field, use the asterisk: <code>*</code>, e.g here are two examples in which the minute field is left unrestricted:</p>
<ul>
<li><code>* 0 1 1 1</code> - the job runs every minute of the midnight hour on January 1st and Mondays.</li>
<li><code>* * * * *</code> - the job runs every minute (of every hour, of every day of the month, of every month, every day of the week, because each of these fields is unrestricted too).</li>
</ul>
<h4 id="matching-a-range">Matching a range<a class="header-anchor" href="javascript:;" onclick="location.hash='#matching-a-range'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>To match a range of values, specify your start and stop values, separated by a hyphen (-). Do not include spaces in the range. Ranges are inclusive. The first value must be less than the second.</p>
<p>The following equivalent examples run at midnight on Mondays, Tuesdays, Wednesdays, Thursdays, and Fridays (for all months):</p>
<ul>
<li><code>0 0 * * 1-5</code></li>
<li><code>0 0 * * MON-FRI</code></li>
</ul>
<h4 id="matching-a-list">Matching a list<a class="header-anchor" href="javascript:;" onclick="location.hash='#matching-a-list'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Lists can contain any valid value for the field, including ranges. Specify your values, separated by a comma (,). Do not include spaces in the list, e.g:</p>
<ul>
<li><code>0 0,12 * * *</code> - the job runs at midnight and noon.</li>
<li><code>0-5,30-35 * * * *</code> - the job runs in each of the first five minutes of every half hour (at the top of the hour and at half past the hour).</li>
</ul>
<h3 id="timespan-interval-examples">TimeSpan Interval Examples<a class="header-anchor" href="javascript:;" onclick="location.hash='#timespan-interval-examples'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<pre><code class="language-csharp">jobs.RecurringCommand&lt;CheckUrlsCommand&gt;(
    Schedule.Interval(TimeSpan.FromMinutes(1)));

// With Example
jobs.RecurringApi(Schedule.Interval(TimeSpan.FromMinutes(1)), new CheckUrls {
    Urls = urls
});
</code></pre>
<p>That can be registered with an optional <strong>Task Name</strong> and <strong>Background Options</strong>, e.g:</p>
<pre><code class="language-csharp">jobs.RecurringCommand&lt;CheckUrlsCommand&gt;(&quot;Check URLs&quot;, Schedule.EveryMinute, 
   new() {
       RunCommand = true // don't persist job
   });
</code></pre>
<div class="info custom-block">
            <p class="custom-block-title">INFO</p><p>If no name is provided, the Command's Name or APIs Request DTO will be used</p>
</div>
<h2 id="interned-cronos">Interned Cronos<a class="header-anchor" href="javascript:;" onclick="location.hash='#interned-cronos'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>A major source of friction in .NET Libraries and most Frameworks from all platforms in general is dependency conflicts.
E.g. Conflicting versions of JSON.NET have plagued many a .NET library and framework for several years, something that
never impacted ServiceStack Apps since we maintain our own fast/flexible JSON Serializer and have never had a dependency
to JSON.NET.</p>
<p>As supply chain attacks from external OSS libraries have become more common, it's even more important to avoid
taking dependencies on external libraries where possible.</p>
<p>As we now have multiple packages that referenced
<a href="https://github.com/HangfireIO/Cronos">Hangfire's Cronos</a> library we've decided to intern it in ServiceStack,
removing the previous dependency <strong>ServiceStack.Jobs</strong> had to Cronos. The only issue was that
<a href="https://github.com/HangfireIO/Cronos/blob/main/src/Cronos/CronParser.cs">CronParser.cs</a> uses unsafe parsing and we
don't allow <code>&lt;AllowUnsafeBlocks&gt;</code> in any ServiceStack package, so it was rewritten to use Spans in our interned
<a href="https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack/src/ServiceStack.Common/Cronos/CronParser.cs">CronParser.cs</a>
implementation.</p>
<p>It's released under the same MIT License as Cronos so anyone else is welcome to use it, as is our port of their
<a href="https://github.com/ServiceStack/ServiceStack/blob/main/ServiceStack/tests/ServiceStack.Common.Tests/CronExpressionTests.cs">CronExpressionTests.cs</a>
to NUnit.</p>
<h3 id="idempotent-registration">Idempotent Registration<a class="header-anchor" href="javascript:;" onclick="location.hash='#idempotent-registration'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Scheduled Tasks are idempotent where the same registration with the same name will
either create or update the scheduled task registration without losing track of the
last time the Recurring Task, as such it's recommended to always define your App's
Scheduled Tasks on Startup:</p>
<pre><code class="language-csharp">public class ConfigureBackgroundJobs : IHostingStartup
{
   public void Configure(IWebHostBuilder builder) =&gt; builder
     .ConfigureServices((context,services) =&gt; {
         //...
     }).ConfigureAppHost(afterAppHostInit: appHost =&gt; {
         var services = appHost.GetApplicationServices();
         var jobs = services.GetRequiredService&lt;IBackgroundJobs&gt;();
         
         // App's Scheduled Tasks Registrations:
         jobs.RecurringCommand&lt;MyCommand&gt;(Schedule.Hourly);
     });
}
</code></pre>
<h3 id="background-jobs-admin-ui">Background Jobs Admin UI<a class="header-anchor" href="javascript:;" onclick="location.hash='#background-jobs-admin-ui'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The last job the Recurring Task ran is also viewable in the Jobs Admin UI:</p>
<p><a href="/img/posts/background-jobs/jobs-scheduled-tasks-last-job.webp"><img src="/img/posts/background-jobs/jobs-scheduled-tasks-last-job.webp" alt="" /></a></p>
<h3 id="executing-non-durable-jobs">Executing non-durable jobs<a class="header-anchor" href="javascript:;" onclick="location.hash='#executing-non-durable-jobs'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><code>IBackgroundJobs</code> also supports <code>RunCommand*</code> methods for executing background jobs transiently
(i.e. non-durable), which is useful for commands that want to be serially executed by a named worker
but don't need to be persisted.</p>
<h4 id="execute-in-background-and-return-immediately">Execute in Background and return immediately<a class="header-anchor" href="javascript:;" onclick="location.hash='#execute-in-background-and-return-immediately'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>You could use this to queue system emails to be sent by the same <strong>smtp</strong> worker and are happy to
not have its state and execution history tracked in the Jobs database.</p>
<pre><code class="language-csharp">var job = jobs.RunCommand&lt;SendEmailCommand&gt;(new SendEmail { ... }, 
    new() {
        Worker = &quot;smtp&quot;
    });
</code></pre>
<p>In this case <code>RunCommand</code> returns the actual <code>BackgroundJob</code> instance that will be updated by
the worker.</p>
<h4 id="execute-in-background-and-wait-for-completion">Execute in Background and wait for completion<a class="header-anchor" href="javascript:;" onclick="location.hash='#execute-in-background-and-wait-for-completion'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>You can also use <code>RunCommandAsync</code> if you prefer to wait until the job has been executed. Instead
of a Job it returns the <strong>Result</strong> of the command if it returned one.</p>
<pre><code class="language-csharp">var result = await jobs.RunCommandAsync&lt;SendEmailCommand&gt;(new SendEmail {...}, 
    new() {
        Worker = &quot;smtp&quot;
    });
</code></pre>
<h3 id="serially-execute-jobs-with-named-workers">Serially Execute Jobs with named Workers<a class="header-anchor" href="javascript:;" onclick="location.hash='#serially-execute-jobs-with-named-workers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>By default jobs are executed immediately in a new Task, we can also change the behavior to
instead execute jobs one-by-one in a serial queue by specifying them to use the same named
worker as seen in the example above.</p>
<p>Alternatively you can annotate the command with the <code>[Worker]</code> attribute if you <strong>always</strong> want
all jobs executing the command to use the same worker:</p>
<pre><code class="language-csharp">[Worker(&quot;smtp&quot;)]
public class SendEmailCommand(IBackgroundJobs jobs) : SyncCommand&lt;SendEmail&gt;
{
    //...
}
</code></pre>
<h3 id="use-callbacks-to-process-the-results-of-commands">Use Callbacks to process the results of Commands<a class="header-anchor" href="javascript:;" onclick="location.hash='#use-callbacks-to-process-the-results-of-commands'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Callbacks can be used to extend the lifetime of a job to include processing a callback to process its results.
This is useful where you would like to reuse the the same command but handle the results differently,
e.g. the same command can email results or invoke a webhook by using a callback:</p>
<pre><code class="language-csharp">jobs.EnqueueCommand&lt;CheckUrlsCommand&gt;(new CheckUrls { Urls = allUrls },
    new() {
        Callback = nameof(EmailUrlResultsCommand),
    });

jobs.EnqueueCommand&lt;CheckUrlsCommand&gt;(new CheckUrls { Urls = criticalUrls },
    new() {
        Callback = nameof(WebhookUrlResultsCommand),
        ReplyTo = callbackUrl
    });
</code></pre>
<p>Callbacks that fail are auto-retried the same number of times as their jobs, which if they all fail then
the entire job is also marked as failed.</p>
<h3 id="run-job-dependent-on-successful-completion-of-parent">Run Job dependent on successful completion of parent<a class="header-anchor" href="javascript:;" onclick="location.hash='#run-job-dependent-on-successful-completion-of-parent'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Jobs can be queued to only run after the successful completion of another job, this is useful
for when you need to kick off multiple jobs after a long running task has finished like
generating monthly reports after monthly data has been aggregated, e.g:</p>
<pre><code class="language-csharp">var jobRef = jobs.EnqueueCommand&lt;AggregateMonthlyDataCommand&gt;(new Aggregate {
    Month = DateTime.UtcNow
});

jobs.EnqueueCommand&lt;GenerateSalesReportCommand&gt;(new () {
   DependsOn = jobRef.Id,
});

jobs.EnqueueCommand&lt;GenerateExpenseReportCommand&gt;(new () {
   DependsOn = jobRef.Id,
});
</code></pre>
<p>Inside your command you can get a reference to your current job with <code>Request.GetBackgroundJob()</code>
which will have its <code>ParentId</code> populated with the parent job Id and <code>job.ParentJob</code> containing
a reference to the completed Parent Job where you can access its Request, Results, and other job
information:</p>
<pre><code class="language-csharp">public class GenerateSalesReportCommand(ILogger&lt;MyCommandNoArgs&gt; log) 
    : SyncCommand
{
    protected override void Run()
    {
        var job = Request.GetBackgroundJob();
        var parentJob = job.ParentJob;
    }
}
</code></pre>
<h3 id="atomic-batching-behavior">Atomic Batching Behavior<a class="header-anchor" href="javascript:;" onclick="location.hash='#atomic-batching-behavior'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We can also use <code>DependsOn</code> to implement atomic batching behavior where from inside our
executing command we can queue new jobs that are dependent on the successful execution
of the current job, e.g:</p>
<pre><code class="language-csharp">public class CheckUrlsCommand(IHttpClientFactory factory, IBackgroundJobs jobs)
    : AsyncCommand&lt;CheckUrls&gt;
{
    protected override async Task RunAsync(CheckUrls req, CancellationToken ct)
    {
        var job = Request.GetBackgroundJob();

        var batchId = Guid.NewGuid().ToString(&quot;N&quot;);
        using var client = factory.CreateClient();
        foreach (var url in req.Urls)
        {
            var msg = new HttpRequestMessage(HttpMethod.Get, url);
            var response = await client.SendAsync(msg, ct);
            response.EnsureSuccessStatusCode();
      
            jobs.EnqueueCommand&lt;SendEmailCommand&gt;(new SendEmail {
                To = &quot;my@email.com&quot;,
                Subject = $&quot;{new Uri(url).Host} status&quot;,
                BodyText = $&quot;{url} is up&quot;,
            }, new() {
                DependsOn = job.Id,
                BatchId = batchId,
            });
        }
    }
}
</code></pre>
<p>Where any dependent jobs are only executed if the job was successfully completed.
If instead an exception was thrown during execution, the job will be failed and
all its dependent jobs cancelled and removed from the queue.</p>
<h3 id="executing-jobs-with-an-authenticated-user-context">Executing jobs with an Authenticated User Context<a class="header-anchor" href="javascript:;" onclick="location.hash='#executing-jobs-with-an-authenticated-user-context'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you have existing logic dependent on a Authenticated <code>ClaimsPrincipal</code> or ServiceStack
<code>IAuthSession</code> you can have your APIs and Commands also be executed with that user context
by specifying the <code>UserId</code> the job should be executed as:</p>
<pre><code class="language-csharp">var openAiRequest = new CreateOpenAiChat {
   Request = new() {
       Model = &quot;gpt-4&quot;,
       Messages = [
           new() {
               Content = request.Question
           }
       ]
   },
}; 

// Example executing API Job with User Context
jobs.EnqueueApi(openAiRequest, 
    new() {
      UserId = Request.GetClaimsPrincipal().GetUserId(),
      CreatedBy = Request.GetClaimsPrincipal().GetUserName(),
   });

// Example executing Command Job with User Context
jobs.EnqueueCommand&lt;CreateOpenAiChatCommand&gt;(openAiRequest, 
    new() {
      UserId = Request.GetClaimsPrincipal().GetUserId(),
      CreatedBy = Request.GetClaimsPrincipal().GetUserName(),
   });
</code></pre>
<p>Inside your API or Command you access the populated User <code>ClaimsPrincipal</code> or
ServiceStack <code>IAuthSession</code> using the same APIs that you'd use inside your ServiceStack APIs, e.g:</p>
<pre><code class="language-csharp">public class CreateOpenAiChatCommand(IBackgroundJobs jobs) 
    : AsyncCommand&lt;CreateOpenAiChat&gt;
{
    protected override async Task RunAsync(
        CreateOpenAiChat request, CancellationToken token)
    {
        var user = Request.GetClaimsPrincipal();
        var session = Request.GetSession();
        //...
    }
}
</code></pre>
<h3 id="queue-job-to-run-after-a-specified-date">Queue Job to run after a specified date<a class="header-anchor" href="javascript:;" onclick="location.hash='#queue-job-to-run-after-a-specified-date'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Using <code>RunAfter</code> lets you queue jobs that are only executed after a specified <code>DateTime</code>,
useful for executing resource intensive tasks at low traffic times, e.g:</p>
<pre><code class="language-csharp">var jobRef = jobs.EnqueueCommand&lt;AggregateMonthlyDataCommand&gt;(new Aggregate {
       Month = DateTime.UtcNow
   }, 
   new() {
       RunAfter = DateTime.UtcNow.Date.AddDays(1)
   });
</code></pre>
<h3 id="attach-metadata-to-jobs">Attach Metadata to Jobs<a class="header-anchor" href="javascript:;" onclick="location.hash='#attach-metadata-to-jobs'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>All above Background Job Options have an effect on when and how Jobs are executed.
There are also a number of properties that can be attached to a Job that can be useful
in background job processing despite not having any effect on how jobs are executed.</p>
<p>These properties can be accessed by commands or APIs executing the Job and are visible
and can be filtered in the Jobs Admin UI to help find and analyze executed jobs.</p>
<pre><code class="language-csharp">var jobRef = jobs.EnqueueCommand&lt;CreateOpenAiChatCommand&gt;(openAiRequest, 
   new() {
      // Group related jobs under a common tag
      Tag = &quot;ai&quot;,
      // A User-specified or system generated unique Id to track the job
      RefId = request.RefId,
      // Capture who created the job
      CreatedBy = Request.GetClaimsPrincipal().GetUserName(),
      // Link jobs together that are sent together in a batch
      BatchId = batchId,
      // Capture where to notify the completion of the job to
      ReplyTo = &quot;https:example.org/callback&quot;,
      // Additional properties about the job that aren't in the Request  
      Args = new() {
          [&quot;Additional&quot;] = &quot;Metadata&quot;
      }
   });
</code></pre>
<h3 id="querying-a-job">Querying a Job<a class="header-anchor" href="javascript:;" onclick="location.hash='#querying-a-job'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>A job can be queried by either it's auto-incrementing <code>Id</code> Primary Key or by a unique <code>RefId</code>
that can be user-specified.</p>
<pre><code class="language-csharp">var jobResult = jobs.GetJob(jobRef.Id);

var jobResult = jobs.GetJobByRefId(jobRef.RefId);
</code></pre>
<p>At a minimum a <code>JobResult</code> will contain the Summary Information about a Job as well as the
full information about a job depending on where it's located:</p>
<pre><code class="language-csharp">class JobResult
{
    // Summary Metadata about a Job in the JobSummary Table 
    JobSummary Summary
    // Job that's still in the BackgroundJob Queue
    BackgroundJob? Queued
    // Full Job information in Monthly DB CompletedJob Table
    CompletedJob? Completed
    // Full Job information in Monthly DB FailedJob Table
    FailedJob? Failed
    // Helper to access full Job Information
    BackgroundJobBase? Job =&gt; Queued ?? Completed ?? Failed 
}
</code></pre>
<h3 id="job-execution-limits">Job Execution Limits<a class="header-anchor" href="javascript:;" onclick="location.hash='#job-execution-limits'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Default Retry and Timeout Limits can be configured on the <code>DatabaseJobFeature</code>:</p>
<pre><code class="language-csharp">services.AddPlugin(new DatabaseJobFeature
{
   DefaultRetryLimit = 2,
   DefaultTimeout = TimeSpan.FromMinutes(10),
});
</code></pre>
<p>These limits are also overridable on a per-job basis, e.g:</p>
<pre><code class="language-csharp">var jobRef = jobs.EnqueueCommand&lt;AggregateMonthlyDataCommand&gt;(new Aggregate {
       Month = DateTime.UtcNow
   }, 
   new() {
      RetryLimit = 3,
      Timeout = TimeSpan.FromMinutes(30),
   });
</code></pre>
<h3 id="logging-cancellation-an-status-updates">Logging, Cancellation an Status Updates<a class="header-anchor" href="javascript:;" onclick="location.hash='#logging-cancellation-an-status-updates'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We'll use the command for checking multiple URLs to demonstrate some recommended patterns
and how to enlist different job processing features.</p>
<pre><code class="language-csharp">public class CheckUrlsCommand(
    ILogger&lt;CheckUrlsCommand&gt; logger,
    IBackgroundJobs jobs,
    IHttpClientFactory clientFactory) : AsyncCommand&lt;CheckUrls&gt;
{
    protected override async Task RunAsync(CheckUrls req, CancellationToken ct)
    {
        // 1. Create Logger that Logs and maintains logging in Jobs DB
        var log = Request.CreateJobLogger(jobs,logger);

        // 2. Get Current Executing Job
        var job = Request.GetBackgroundJob();

        var result = new CheckUrlsResult {
            Statuses = new()
        };
        using var client = clientFactory.CreateClient();
        for (var i = 0; i &lt; req.Urls.Count; i++)
        {
            // 3. Stop processing Job if it's been cancelled 
            ct.ThrowIfCancellationRequested();

            var url = req.Urls[i];
            try
            {
                var msg = new HttpRequestMessage(HttpMethod.Get,url);
                var response = await client.SendAsync(msg, ct);

                result.Statuses[url] = response.IsSuccessStatusCode;
                log.LogInformation(&quot;{Url} is {Status}&quot;,
                    url, response.IsSuccessStatusCode ? &quot;up&quot; : &quot;down&quot;);

                // 4. Optional: Maintain explicit progress and status updates
                log.UpdateStatus(i/(double)req.Urls.Count,$&quot;Checked {i} URLs&quot;);
            }
            catch (Exception e)
            {
                log.LogError(e, &quot;Error checking {Url}&quot;, url);
                result.Statuses[url] = false;
            }
        }

        // 5. Send Results to WebHook Callback if specified
        if (job.ReplyTo != null)
        {
            jobs.EnqueueCommand&lt;NotifyCheckUrlsCommand&gt;(result,
                new() {
                    ParentId = job.Id,
                    ReplyTo = job.ReplyTo,
                });
        }
    }
}
</code></pre>
<p>We'll cover some of the notable parts useful when executing Jobs:</p>
<h4 id="job-logger">1. Job Logger<a class="header-anchor" href="javascript:;" onclick="location.hash='#job-logger'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>We can use a Job logger to enable database logging that can be monitored in real-time in the
Admin Jobs UI. Creating it with both <code>BackgroundJobs</code> and <code>ILogger</code> will return a combined
logger that both Logs to standard output and to the Jobs database:</p>
<pre><code class="language-csharp">var log = Request.CreateJobLogger(jobs,logger);
</code></pre>
<p>Or just use <code>Request.CreateJobLogger(jobs)</code> to only save logs to the database.</p>
<h4 id="resolve-executing-job">2. Resolve Executing Job<a class="header-anchor" href="javascript:;" onclick="location.hash='#resolve-executing-job'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>If needed the currently executing job can be accessed with:</p>
<pre><code class="language-csharp">var job = Request.GetBackgroundJob();
</code></pre>
<p>Where you'll be able to access all the metadata the jobs were created with including <code>ReplyTo</code>
and <code>Args</code>.</p>
<h4 id="check-if-job-has-been-cancelled">3. Check if Job has been cancelled<a class="header-anchor" href="javascript:;" onclick="location.hash='#check-if-job-has-been-cancelled'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>To be able to cancel a long running job you'll need to periodically check if a Cancellation
has been requested and throw a <code>TaskCanceledException</code> if it has to short-circuit the command
which can be done with:</p>
<pre><code class="language-csharp">ct.ThrowIfCancellationRequested();
</code></pre>
<p>You'll typically want to call this at the start of any loops to prevent it from doing any more work.</p>
<h4 id="optionally-record-progress-and-status-updates">4. Optionally record progress and status updates<a class="header-anchor" href="javascript:;" onclick="location.hash='#optionally-record-progress-and-status-updates'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>By default Background Jobs looks at the last API or Command run and worker used to estimate
the duration and progress for how long a running job will take.</p>
<p>If preferred your command can explicitly set a more precise progress and optional status update
that should be used instead, e.g:</p>
<pre><code class="language-csharp">log.UpdateStatus(progress:i/(double)req.Urls.Count, $&quot;Checked {i} URLs&quot;);
</code></pre>
<p>Although generally the estimated duration and live logs provide a good indication for the progress
of a job.</p>
<h4 id="notify-completion-of-job">5. Notify completion of Job<a class="header-anchor" href="javascript:;" onclick="location.hash='#notify-completion-of-job'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Calling a Web Hook is a good way to notify externally initiated job requests of the completion
of a job. You could invoke the callback within the command itself but there are a few benefits
to initiating another job to handle the callback:</p>
<ul>
<li>Frees up the named worker immediately to process the next task</li>
<li>Callbacks are durable, auto-retried and their success recorded like any job</li>
<li>If a callback fails the entire command doesn't need to be re-run again</li>
</ul>
<p>We can queue a callback with the result by passing through the <code>ReplyTo</code> and link it to the
existing job with:</p>
<pre><code class="language-csharp">if (job.ReplyTo != null)
{
   jobs.EnqueueCommand&lt;NotifyCheckUrlsCommand&gt;(result,
       new() {
           ParentId = job.Id,
           ReplyTo = job.ReplyTo,
       });
}
</code></pre>
<p>Which we can implement by calling the <code>SendJsonCallbackAsync</code> extension method with the
Callback URL and the Result DTO it should be called with:</p>
<pre><code class="language-csharp">public class NotifyCheckUrlsCommand(IHttpClientFactory clientFactory) 
    : AsyncCommand&lt;CheckUrlsResult&gt;
{
    protected override async Task RunAsync(
        CheckUrlsResult request, CancellationToken token)
    {
        await clientFactory.SendJsonCallbackAsync(
            Request.GetBackgroundJob().ReplyTo, request, token);
    }
}
</code></pre>
<h4 id="callback-urls">Callback URLs<a class="header-anchor" href="javascript:;" onclick="location.hash='#callback-urls'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p><code>ReplyTo</code> can be any URL which by default will have the result POST'ed back to the URL with a JSON
Content-Type. Typically URLs will contain a reference Id so external clients can correlate a callback
with the internal process that initiated the job. If the callback API is publicly available you'll
want to use an internal Id that can't be guessed so the callback can't be spoofed, like a Guid, e.g:</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>https://api.example.com?refId={RefId}</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>If needed the callback URL can be customized on how the HTTP Request callback is sent.</p>
<p>You can change the HTTP Method used by including it before the URL:</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>PUT https://api.example.com</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>If the auth part contains a colon <code>:</code> it's treated as Basic Auth:</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>username:password@https://api.example.com</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>If name starts with <code>http.</code> sends a HTTP Header</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>http.X-API-Key:myApiKey@https://api.example.com</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>Otherwise it's sent as a Bearer Token:</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>myToken123@https://api.example.com</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>Bearer Token or HTTP Headers starting with <code>$</code> is substituted with Environment Variable if exists:</p>
<div class="not-prose copy cp flex cursor-pointer mb-3" onclick="copy(this)">
                <div class="flex-grow bg-gray-700">
                    <div class="pl-4 py-1 pb-1.5 align-middle text-lg text-white"><p><code>$API_TOKEN@https://api.example.com</code></p>
</div>
                    </div>
                <div class="flex">
                    <div class="bg-sky-500 text-white p-1.5 pb-0">
                        <svg class="copied w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <svg class="nocopy w-6 h-6" title="copy" fill='none' stroke='white' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
                            <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1' d='M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2'></path>
                        </svg>
                    </div>
                </div>
            </div>
<p>When needed headers, passwords, and tokens can be URL encoded if they contain any delimiter characters.</p>
<h2 id="implementing-commands">Implementing Commands<a class="header-anchor" href="javascript:;" onclick="location.hash='#implementing-commands'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>At a minimum a command need only implement the <a href="https://docs.servicestack.net/commands#commands-feature">IAsyncCommand interface</a>:</p>
<pre><code class="language-csharp">public interface IAsyncCommand&lt;in T&gt;
{
    Task ExecuteAsync(T request);
}
</code></pre>
<p>Which is the singular interface that can execute any command.</p>
<p>However commands executed via Background Jobs have additional context your commands may need to
access during execution, including the <code>BackgroundJob</code> itself, the <code>CancellationToken</code> and
an Authenticated User Context.</p>
<p>To reduce the effort in creating commands with a <code>IRequest</code> context we've added a number ergonomic
base classes to better capture the different call-styles a unit of logic can have including
<strong>Sync</strong> or <strong>Async</strong> execution, whether they require <strong>Input Arguments</strong> or have <strong>Result Outputs</strong>.</p>
<p>Choosing the appropriate Abstract base class benefits from IDE tooling in generating the method
signature that needs to be implemented whilst Async commands with Cancellation Tokens in its method
signature highlights any missing async methods that are called without the token.</p>
<h3 id="sync-commands">Sync Commands<a class="header-anchor" href="javascript:;" onclick="location.hash='#sync-commands'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<ul>
<li><code>SyncCommand</code> - Requires No Arguments</li>
<li><code>SyncCommand&lt;TRequest&gt;</code> - Requires TRequest Argument</li>
<li><code>SyncCommandWithResult&lt;TResult&gt;</code> - Requires No Args and returns Result</li>
<li><code>SyncCommandWithResult&lt;TReq,TResult&gt;</code> - Requires Arg and returns Result</li>
</ul>
<pre><code class="language-csharp">public record MyArgs(int Id);
public record MyResult(string Message);

public class MyCommandNoArgs(ILogger&lt;MyCommandNoArgs&gt; log) : SyncCommand
{
    protected override void Run()
    {
        log.LogInformation(&quot;Called with No Args&quot;);
    }
}

public class MyCommandArgs(ILogger&lt;MyCommandNoArgs&gt; log) : SyncCommand&lt;MyArgs&gt;
{
    protected override void Run(MyArgs request)
    {
        log.LogInformation(&quot;Called with {Id}&quot;, request.Id);
    }
}

public class MyCommandWithResult(ILogger&lt;MyCommandNoArgs&gt; log) 
    : SyncCommandWithResult&lt;MyResult&gt;
{
    protected override MyResult Run()
    {
        log.LogInformation(&quot;Called with No Args and returns Result&quot;);
        return new MyResult(&quot;Hello World&quot;);
    }
}

public class MyCommandWithArgsAndResult(ILogger&lt;MyCommandNoArgs&gt; log) 
    : SyncCommandWithResult&lt;MyArgs,MyResult&gt;
{
    protected override MyResult Run(MyArgs request)
    {
        log.LogInformation(&quot;Called with {Id} and returns Result&quot;, request.Id);
        return new MyResult(&quot;Hello World&quot;);
    }
}
</code></pre>
<h3 id="async-commands">Async Commands<a class="header-anchor" href="javascript:;" onclick="location.hash='#async-commands'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<ul>
<li><code>AsyncCommand</code> - Requires No Arguments</li>
<li><code>AsyncCommand&lt;TRequest&gt;</code> - Requires TRequest Argument</li>
<li><code>AsyncCommandWithResult&lt;TResult&gt;</code> - Requires No Args and returns Result</li>
<li><code>AsyncCommandWithResult&lt;TReq,TResult&gt;</code> - Requires Arg and returns Result</li>
</ul>
<pre><code class="language-csharp">public class MyAsyncCommandNoArgs(ILogger&lt;MyCommandNoArgs&gt; log) : AsyncCommand
{
    protected override async Task RunAsync(CancellationToken token)
    {
        log.LogInformation(&quot;Async called with No Args&quot;);
    }
}

public class MyAsyncCommandArgs(ILogger&lt;MyCommandNoArgs&gt; log) 
    : AsyncCommand&lt;MyArgs&gt;
{
    protected override async Task RunAsync(MyArgs request, CancellationToken t)
    {
        log.LogInformation(&quot;Async called with {Id}&quot;, request.Id);
    }
}

public class MyAsyncCommandWithResult(ILogger&lt;MyCommandNoArgs&gt; log) 
    : AsyncCommandWithResult&lt;MyResult&gt;
{
    protected override async Task&lt;MyResult&gt; RunAsync(CancellationToken token)
    {
        log.LogInformation(&quot;Async called with No Args and returns Result&quot;);
        return new MyResult(&quot;Hello World&quot;);
    }
}

public class MyAsyncCommandWithArgsAndResult(ILogger&lt;MyCommandNoArgs&gt; log) 
    : AsyncCommandWithResult&lt;MyArgs,MyResult&gt;
{
    protected override async Task&lt;MyResult&gt; RunAsync(
        MyArgs request, CancellationToken token)
    {
        log.LogInformation(&quot;Called with {Id} and returns Result&quot;, request.Id);
        return new MyResult(&quot;Hello World&quot;);
    }
}
</code></pre>

                </div>
            </div>
        </article>
</div>

<div id="comments" data-post="PostComments" class="my-48"></div>

        <div class="bg-gray-50 py-20">
            <div class="max-w-3xl mx-auto">
                <div class="flex justify-between">
                    <div>
                            <a href="posts/author/demis-bellot"><img class="w-20 h-20 rounded-full text-cyan-600" src="/img/authors/demis.webp"></a>

                        <div class="mt-2 font-medium text-2xl">
                            Written by Demis Bellot
                        </div>
                        <div class="text-gray-600">
                            Father of 3 when not deving @ servicestack.net
                        </div>
                    </div>
                    <div class="flex items-end">
            <ul role="list" class="flex">
                    <li>
                        <a title="Follow on Twitter" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://twitter.com/demisbellot">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                <path d="M20.055 7.983c.011.174.011.347.011.523 0 5.338-3.92 11.494-11.09 11.494v-.003A10.755 10.755 0 0 1 3 18.186c.308.038.618.057.928.058a7.655 7.655 0 0 0 4.841-1.733c-1.668-.032-3.13-1.16-3.642-2.805a3.753 3.753 0 0 0 1.76-.07C5.07 13.256 3.76 11.6 3.76 9.676v-.05a3.77 3.77 0 0 0 1.77.505C3.816 8.945 3.288 6.583 4.322 4.737c1.98 2.524 4.9 4.058 8.034 4.22a4.137 4.137 0 0 1 1.128-3.86A3.807 3.807 0 0 1 19 5.274a7.657 7.657 0 0 0 2.475-.98c-.29.934-.9 1.729-1.713 2.233A7.54 7.54 0 0 0 22 5.89a8.084 8.084 0 0 1-1.945 2.093Z"></path>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Follow on threads.net" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://threads.net/@demisbellot">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500" width="24" height="24" viewBox="0 0 24 24">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7.5c-1.333-3-3.667-4.5-7-4.5c-5 0-8 2.5-8 9s3.5 9 8 9s7-3 7-5s-1-5-7-5c-2.5 0-3 1.25-3 2.5C9 15 10 16 11.5 16c2.5 0 3.5-1.5 3.5-5s-2-4-3-4s-1.833.333-2.5 1"/>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Follow on GitHub" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://github.com/mythz">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.475 2 2 6.588 2 12.253c0 4.537 2.862 8.369 6.838 9.727.5.09.687-.218.687-.487 0-.243-.013-1.05-.013-1.91C7 20.059 6.35 18.957 6.15 18.38c-.113-.295-.6-1.205-1.025-1.448-.35-.192-.85-.667-.013-.68.788-.012 1.35.744 1.538 1.051.9 1.551 2.338 1.116 2.912.846.088-.666.35-1.115.638-1.371-2.225-.256-4.55-1.14-4.55-5.062 0-1.115.387-2.038 1.025-2.756-.1-.256-.45-1.307.1-2.717 0 0 .837-.269 2.75 1.051.8-.23 1.65-.346 2.5-.346.85 0 1.7.115 2.5.346 1.912-1.333 2.75-1.05 2.75-1.05.55 1.409.2 2.46.1 2.716.637.718 1.025 1.628 1.025 2.756 0 3.934-2.337 4.806-4.562 5.062.362.32.675.936.675 1.897 0 1.371-.013 2.473-.013 2.82 0 .268.188.589.688.486a10.039 10.039 0 0 0 4.932-3.74A10.447 10.447 0 0 0 22 12.253C22 6.588 17.525 2 12 2Z"></path>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a title="Email Demis Bellot" href="mailto:demis@servicestack.com" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500">
                            <svg class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M4 20q-.825 0-1.413-.588T2 18V6q0-.825.588-1.413T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.588 1.413T20 20H4Zm8-7L4 8v10h16V8l-8 5Zm0-2l8-5H4l8 5ZM4 8V6v12V8Z"/></svg>
                        </a>
                    </li>
            </ul>
                    </div>
                </div>

                <div class="mt-4 border-t">
                    <div class="py-8 text-lg text-gray-700 font-medium">
                        More from Demis Bellot
                    </div>
                    <div class="grid grid-cols-2 gap-8">
                            <div>
                                <div class="flex flex-col overflow-hidden">
                                    <div class="flex-shrink-0">
                                        <a href="posts/replacing-legacy-uis">
                                            <img class="h-48 w-full object-cover" src="./img/posts/replacing-legacy-uis/bg.webp" alt="">
                                        </a>
                                    </div>
                                    <div class="flex flex-1 flex-col justify-between bg-white dark:bg-black p-6">
                                        <div class="flex-1">
                                            <p class="text-sm font-medium text-indigo-600 dark:text-indigo-300">
                                                Article
                                            </p>
                                            <a href="posts/replacing-legacy-uis" class="mt-2 block">
                                                <p class="text-xl font-semibold text-gray-900 dark:text-gray-50 whitespace-nowrap overflow-hidden text-ellipsis" title="Replacing Legacy UIs in an AI-First world">
                                                    Replacing Legacy UIs in an AI-First world
                                                </p>
                                                <p class="mt-3 text-base text-gray-500">Rewriting legacy UIs on modern AI-First stacks are now cheaper and faster than traditional development.</p>
                                            </a>
                                        </div>
                                        <div class="mt-6 flex items-center">
                                            <div class="flex-shrink-0">
                                                <a href="">
                                                    <span class="sr-only">Demis Bellot</span>
                                                    <img class="h-10 w-10 rounded-full" src="/img/authors/demis.webp" alt="Replacing Legacy UIs in an AI-First world background">
                                                </a>
                                            </div>
                                            <div class="ml-3">
                                                <p class="text-sm font-medium text-gray-900">
                                                        <a href="posts/author/demis-bellot" class="hover:underline">Demis Bellot</a>
                                                </p>
                                                <div class="flex space-x-1 text-sm text-gray-500">
                                                    <time datetime="2025-12-07T00:00:00.0000000">December 7, 2025</time>
                                                    <span aria-hidden="true">&middot;</span>
                                                    <span>10 min read</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div>
                                <div class="flex flex-col overflow-hidden">
                                    <div class="flex-shrink-0">
                                        <a href="posts/angular-template">
                                            <img class="h-48 w-full object-cover" src="./img/posts/angular-spa/bg.webp" alt="">
                                        </a>
                                    </div>
                                    <div class="flex flex-1 flex-col justify-between bg-white dark:bg-black p-6">
                                        <div class="flex-1">
                                            <p class="text-sm font-medium text-indigo-600 dark:text-indigo-300">
                                                Article
                                            </p>
                                            <a href="posts/angular-template" class="mt-2 block">
                                                <p class="text-xl font-semibold text-gray-900 dark:text-gray-50 whitespace-nowrap overflow-hidden text-ellipsis" title="New .NET 10 &#x2B; Angular 21 ASP.NET Identity Auth Tailwind SPA Template">
                                                    New .NET 10 &#x2B; Angular 21 ASP.NET Identity Auth Tailwind SPA Template
                                                </p>
                                                <p class="mt-3 text-base text-gray-500">Introducing our new Angular 19 IdentityAuth Tailwind Template with DarkMode and support for RxJS and Signals dev models</p>
                                            </a>
                                        </div>
                                        <div class="mt-6 flex items-center">
                                            <div class="flex-shrink-0">
                                                <a href="">
                                                    <span class="sr-only">Demis Bellot</span>
                                                    <img class="h-10 w-10 rounded-full" src="/img/authors/demis.webp" alt="New .NET 10 &#x2B; Angular 21 ASP.NET Identity Auth Tailwind SPA Template background">
                                                </a>
                                            </div>
                                            <div class="ml-3">
                                                <p class="text-sm font-medium text-gray-900">
                                                        <a href="posts/author/demis-bellot" class="hover:underline">Demis Bellot</a>
                                                </p>
                                                <div class="flex space-x-1 text-sm text-gray-500">
                                                    <time datetime="2025-12-05T00:00:00.0000000">December 5, 2025</time>
                                                    <span aria-hidden="true">&middot;</span>
                                                    <span>14 min read</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div>
                                <div class="flex flex-col overflow-hidden">
                                    <div class="flex-shrink-0">
                                        <a href="posts/vibecode-react-templates">
                                            <img class="h-48 w-full object-cover" src="./img/posts/vibecode-react-templates/bg.webp" alt="">
                                        </a>
                                    </div>
                                    <div class="flex flex-1 flex-col justify-between bg-white dark:bg-black p-6">
                                        <div class="flex-1">
                                            <p class="text-sm font-medium text-indigo-600 dark:text-indigo-300">
                                                Article
                                            </p>
                                            <a href="posts/vibecode-react-templates" class="mt-2 block">
                                                <p class="text-xl font-semibold text-gray-900 dark:text-gray-50 whitespace-nowrap overflow-hidden text-ellipsis" title="New Vibe Codable .NET 10 React Templates">
                                                    New Vibe Codable .NET 10 React Templates
                                                </p>
                                                <p class="mt-3 text-base text-gray-500">Exploring the new Vibe Codable .NET 10 React Templates and their NodeProxy architecture</p>
                                            </a>
                                        </div>
                                        <div class="mt-6 flex items-center">
                                            <div class="flex-shrink-0">
                                                <a href="">
                                                    <span class="sr-only">Demis Bellot</span>
                                                    <img class="h-10 w-10 rounded-full" src="/img/authors/demis.webp" alt="New Vibe Codable .NET 10 React Templates background">
                                                </a>
                                            </div>
                                            <div class="ml-3">
                                                <p class="text-sm font-medium text-gray-900">
                                                        <a href="posts/author/demis-bellot" class="hover:underline">Demis Bellot</a>
                                                </p>
                                                <div class="flex space-x-1 text-sm text-gray-500">
                                                    <time datetime="2025-12-04T00:00:00.0000000">December 4, 2025</time>
                                                    <span aria-hidden="true">&middot;</span>
                                                    <span>8 min read</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div>
                                <div class="flex flex-col overflow-hidden">
                                    <div class="flex-shrink-0">
                                        <a href="posts/openapi-net10">
                                            <img class="h-48 w-full object-cover" src="./img/posts/openapi-net10/bg.webp" alt="">
                                        </a>
                                    </div>
                                    <div class="flex flex-1 flex-col justify-between bg-white dark:bg-black p-6">
                                        <div class="flex-1">
                                            <p class="text-sm font-medium text-indigo-600 dark:text-indigo-300">
                                                Article
                                            </p>
                                            <a href="posts/openapi-net10" class="mt-2 block">
                                                <p class="text-xl font-semibold text-gray-900 dark:text-gray-50 whitespace-nowrap overflow-hidden text-ellipsis" title=".NET 10&#x27;s new OpenAPI Scalar &#x2B; Swagger UIs">
                                                    .NET 10&#x27;s new OpenAPI Scalar &#x2B; Swagger UIs
                                                </p>
                                                <p class="mt-3 text-base text-gray-500">ServiceStack v10 adds first-class .NET 10 support and new OpenAPI for Swagger and Scalar UIs.</p>
                                            </a>
                                        </div>
                                        <div class="mt-6 flex items-center">
                                            <div class="flex-shrink-0">
                                                <a href="">
                                                    <span class="sr-only">Demis Bellot</span>
                                                    <img class="h-10 w-10 rounded-full" src="/img/authors/demis.webp" alt=".NET 10&#x27;s new OpenAPI Scalar &#x2B; Swagger UIs background">
                                                </a>
                                            </div>
                                            <div class="ml-3">
                                                <p class="text-sm font-medium text-gray-900">
                                                        <a href="posts/author/demis-bellot" class="hover:underline">Demis Bellot</a>
                                                </p>
                                                <div class="flex space-x-1 text-sm text-gray-500">
                                                    <time datetime="2025-12-03T00:00:00.0000000">December 3, 2025</time>
                                                    <span aria-hidden="true">&middot;</span>
                                                    <span>4 min read</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                    </div>
                </div>
            </div>
        </div>

<script type="module">
import { init } from "app.mjs"
init()
</script>

<link rel="stylesheet" href="css/highlight.css">
<script src="js/highlight.js"></script>
<script>hljs.highlightAll()</script>
<script src="js/lite-yt-embed.js"></script>
<script src="mjs/docs.mjs" type="module"></script>


<script type="module">
import { mount } from "app.mjs"

    const App = {
        setup() {
            function nav(url) {
                window.open(url)
            }
            return { nav }
        }
    }
    mount('#post', App)
</script>

    </main>
</div>

<footer class="bg-slate-200 dark:bg-black border-t border-slate-300 dark:border-gray-600 py-8 sm:py-12">
    <div class="max-w-screen-2xl mx-auto px-5">
        <div class="sm:flex sm:flex-wrap sm:-mx-4 md:py-4">
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Features</h5>
                <div>
                    <a href="https://servicestack.net/service-reference" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack Reference</a>
                    <a href="https://servicestack.net/creatorkit/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">CreatorKit</a>
                    <a href="https://servicestack.net/litestream" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Litestream</a>
                    <a href="https://servicestack.net/ormlite" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">OrmLite</a>
                    <a href="https://servicestack.net/redis" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Redis</a>
                    <a href="https://servicestack.net/locode" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Locode</a>
                    <a href="https://www.jamstacks.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Jamstack</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 sm:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Resources</h5>
                <div>
                    <a href="https://docs.servicestack.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Framework Docs</a>
                    <a href="https://forums.servicestack.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Customer Forums</a>
                    <a href="https://docs.servicestack.net/redis/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Redis</a>
                    <a href="https://docs.servicestack.net/ormlite/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.OrmLite</a>
                    <a href="https://docs.servicestack.net/text" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Text</a>
                    <a href="https://docs.servicestack.net/aws" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Aws</a>
                    <a href="https://github.com/NetCoreApps/LiveDemos" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Live Demos</a>
                    <a href="https://servicestack.net/posts/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Blog Archive</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 md:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Learn</h5>
                <div>
                    <a href="https://docs.servicestack.net/why-servicestack" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Why ServiceStack</a>
                    <a href="https://docs.servicestack.net/architecture-overview" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Architecture</a>
                    <a href="https://docs.servicestack.net/explore-servicestack" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Explore ServiceStack</a>
                    <a href="https://docs.servicestack.net/api-first-development" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">API First Development</a>
                    <a href="https://docs.servicestack.net/service-complexity-and-dto-roles" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">The Simple POCO Life</a>
                    <a href="https://servicestack.net/training" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Training Services</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 md:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">About</h5>
                <div>
                    <a href="https://servicestack.net/support" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Support</a>
                    <a href="https://servicestack.net/whatsnew" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">What's New</a>
                    <a href="https://servicestack.net/#contact" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Contact Us</a>
                    <a href="https://servicestack.net/privacy" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Privacy</a>
                    <a href="https://servicestack.net/terms" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Terms</a>
                </div>
            </div>
            <div class="px-4 mt-4 flex justify-end">
                <div class="max-w-sm">
                    <div class="mx-auto">
                        <h5 class="block uppercase text-slate-500 font-semibold mb-4">Stay connected</h5>

                        <div class="mt-6 lg:mb-0 mb-6">
                            <a href="https://twitter.com/ServiceStack" class="inline-block bg-white dark:bg-gray-800 p-2 text-blue-400 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23Z"/></svg>
                            </a>
                            <a href="https://www.youtube.com/channel/UC0kXKGVU4NHcwNdDdRiAJSA" class="inline-block bg-white dark:bg-gray-800 p-2 text-red-600 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M21.543 6.498C22 8.28 22 12 22 12s0 3.72-.457 5.502c-.254.985-.997 1.76-1.938 2.022C17.896 20 12 20 12 20s-5.893 0-7.605-.476c-.945-.266-1.687-1.04-1.938-2.022C2 15.72 2 12 2 12s0-3.72.457-5.502c.254-.985.997-1.76 1.938-2.022C6.107 4 12 4 12 4s5.896 0 7.605.476c.945.266 1.687 1.04 1.938 2.022zM10 15.5l6-3.5l-6-3.5v7z"/></svg>
                            </a>
                            <a href="https://github.com/ServiceStack" class="inline-block bg-white dark:bg-gray-800 p-2 text-slate-800 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
                            </a>
                        </div>
                    </div>
                    <div class="mt-8" data-mail="JoinMailingList" data-props="{ submitLabel:'Join our newsletter' }"></div>
                </div>
            </div>
        </div>

        <div class="sm:flex sm:flex-wrap sm:-mx-4 mt-6 pt-6 sm:mt-12 sm:pt-12 border-t dark:border-gray-700">
            <div class="sm:w-full px-4 md:w-1/6">
                <b>About ServiceStack</b>
            </div>
            <div class="px-4 sm:w-1/2 mt-4 md:mt-0 text-sm text-gray-600">
                ServiceStack started development in 2008 with the mission of creating a best-practices services framework
                with an emphasis on simplicity and speed, reducing the effort in creating and maintaining resilient
                message-based SOA Services and rich web apps like <a href="https://ubixar.com">ubixar</a>.

                <p class="pt-2">Copyright (c) ServiceStack Inc. 2024</p>
            </div>
            <div class="px-4 md:w-1/4 md:ml-auto mt-6 sm:mt-4 md:mt-0">
                <a href="https://servicestack.net/start"
                   class="bg-slate-800 text-white active:bg-slate-600 text-sm font-semibold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
                    Get started
                </a>
            </div>
        </div>        
        
    </div>
</footer>

<script type="module">
import { mail } from 'https://creatorkit.servicestack.net/mjs/components/mail.mjs'
import { post } from 'https://creatorkit.servicestack.net/mjs/components/post.mjs'

mail('[data-mail]', { mailingLists:['MonthlyNewsletter'] })
post('[data-post]', {
    commentLink: { 
        href: '/community-rules',
        label: 'read the community rules'
    } 
})
</script>


<script type="module">
import { init } from "app.mjs"
init()
</script>



</body>
</html>