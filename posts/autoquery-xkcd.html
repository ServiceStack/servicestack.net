<!doctype html>
<html lang="en">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TZZ1VK3VGL"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); gtag('config', 'G-TZZ1VK3VGL');</script>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/svg" href="img/logo.svg">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://servicestack.net/feed.xml" />
  <title>Bringing xkcd static dataset to life with AutoQuery - ServiceStack</title>
  <base href="/" />
  <script>
    const cls = document.querySelector('html').classList
    if (localStorage.getItem('color-scheme') === 'dark')
        cls.add('dark')
    else
        cls.remove('dark')
    </script>
  <link rel="stylesheet" href="css/app.css">
    
  <script async src="https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js"></script>
  <script type="importmap">
{
    "imports": {
        "app.mjs": "./mjs/app.mjs",
        "dtos.mjs": "./mjs/dtos.mjs",
        "vue": "./lib/mjs/vue.min.mjs",
        "@servicestack/client": "./lib/mjs/servicestack-client.min.mjs",
        "@servicestack/vue": "./lib/mjs/servicestack-vue.min.mjs"
    }
}
</script>
  
    <meta name="twitter:site" content="@ServiceStack" />
    <meta name="twitter:creator" content="@layoric" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:description" content="Unsiloing data quickly with AutoQuery to make your datasets available from queryable Web APIs" />
    <meta property="og:url" content="https://servicestack.net/posts/autoquery-xkcd" />
    <meta property="og:title" content="Bringing xkcd static dataset to life with AutoQuery" />
    <meta property="og:image" content="./img/posts/autoquery-xkcd/drawing-xkcd-upscaled.jpg" />


</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TZZ1VK3VGL"></script>
<script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
gtag('js', new Date()); gtag('config', 'G-TZZ1VK3VGL');</script>

<body class="bg-white dark:bg-black dark:text-white">

<!-- Background backdrop, visually different from main _Layout -->
<svg class="absolute inset-x-0 top-0 -z-10 h-[64rem] w-full stroke-gray-200 [mask-image:radial-gradient(32rem_32rem_at_center,white,transparent)]" aria-hidden="true">
  <defs>
    <pattern id="1f932ae7-37de-4c0a-a8b0-a6e3b4d44b84" width="200" height="200" x="50%" y="-1" patternUnits="userSpaceOnUse">
      <path d="M.5 200V.5H200" fill="none"/>
    </pattern>
  </defs>
  <svg x="50%" y="-1" class="overflow-visible fill-gray-50">
    <path d="M-200 0h201v201h-201Z M600 0h201v201h-201Z M-400 600h201v201h-201Z M200 800h201v201h-201Z" stroke-width="0"/>
  </svg>
  <rect width="100%" height="100%" stroke-width="0" fill="url(#1f932ae7-37de-4c0a-a8b0-a6e3b4d44b84)"/>
</svg>
<div class="absolute top-0 left-1/2 right-0 -z-10 -ml-24 transform-gpu overflow-hidden blur-3xl lg:ml-24 xl:ml-48">
  <svg viewBox="0 0 801 1036" aria-hidden="true" class="w-[50.0625rem]">
    <path fill="url(#70656b7e-db44-4b9b-b7d2-1f06791bed52)" fill-opacity=".3" d="m282.279 843.371 32.285 192.609-313.61-25.32 281.325-167.289-58.145-346.888c94.5 92.652 277.002 213.246 251.009-45.597C442.651 127.331 248.072 10.369 449.268.891c160.956-7.583 301.235 116.434 351.256 179.39L507.001 307.557l270.983 241.04-495.705 294.774Z"/>
    <defs>
      <linearGradient id="70656b7e-db44-4b9b-b7d2-1f06791bed52" x1="508.179" x2="-28.677" y1="-116.221" y2="1091.63" gradientUnits="userSpaceOnUse">
        <stop stop-color="#9089FC"/>
        <stop offset="1" stop-color="#FF80B5"/>
      </linearGradient>
    </defs>
  </svg>
</div>

<header class="top-0 fixed z-50 h-14 bg-white dark:bg-black opacity-90 w-full shadow pr-3">
    <div class="w-full flex flex-wrap items-center">
        <div class="absolute z-10 top-2 left-2 sm:static flex-shrink flex-grow-0">
            <div class="cursor-pointer">
                <a class="navbar-brand flex items-center" href="./">
                    <svg class="w-8 h-8 sm:ml-2 sm:w-12 sm:h-12 text-gray-900 dark:text-gray-50" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M10 6c1.544 1.76 2.276 4.15 2.217 6.61c3.968 1.67 9.924 6.12 11.181 12.39H28C26.051 14.31 14.918 6.77 10 6zm-2 7c4.67 4.913.81 11.582-4 12h18.97C21.5 18.289 11.95 13.533 8 13z"/></svg>
                    <span class="hidden sm:block text-2xl font-bold text-gray-900 dark:text-gray-50">ServiceStack</span>
                </a>
            </div>
        </div>
        <div class="flex flex-grow flex-shrink flex-nowrap justify-end items-center">
            <nav class="relative flex flex-grow leading-6 font-semibold text-slate-700 dark:text-slate-200">
                <ul class="flex flex-wrap items-center justify-end w-full m-0 pb-2 sm:pb-0">
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/whatsnew" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    What's New
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/blog" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Blog
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0 hidden lg:block">
                                <a href="https://docs.servicestack.net" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Docs
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0 hidden lg:block">
                                <a href="https://forums.servicestack.net" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Forums
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/free" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Free
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/trial" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Trial
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/pricing" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400">
                                    Pricing
                                </a>
                            </li>
                            <li class="relative flex flex-wrap just-fu-start m-0">
                                <a href="https://servicestack.net/account/subscription" class="p-4 flex items-center justify-start mw-full hover:text-sky-500 dark:hover:text-sky-400 text-gray-50 sm:text-slate-700 dark:text-gray-50">
                                    Sign In
                                </a>
                            </li>
                    <li class="relative flex flex-wrap just-fu-start m-0">
                        <div data-component="DarkModeToggle" class="ml-2 w-10"></div>
                    </li>
                </ul>
            </nav>

        </div>
    </div>
</header>
<script type="module">
import { mountAll } from "app.mjs"
mountAll()
</script>


<div class="min-h-screen">
  <main role="main" class="pt-14 pb-3">
    



<link rel="stylesheet" href="css/typography.css">
<link rel="stylesheet" href="css/lite-yt-embed.css">

<div class="container px-5 mb-32 mx-auto">
        <article class="mt-20">
            <h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">
                Bringing xkcd static dataset to life with AutoQuery
            </h1>
            <div class="flex justify-between">
                <div class="md:mb-12 flex items-center">
                        <a href="posts/author/darren-reid"><img class="w-12 h-12 rounded-full mr-4 text-cyan-600" src="/img/authors/darren.jpg"></a>
                    <div class="flex flex-col">
                            <a class="text-xl font-semibold hover:underline" href="posts/author/darren-reid">Darren Reid</a>
                            <ul role="list" class="flex">
                                    <li>
                                        <a title="Follow on Twitter" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://twitter.com/layoric">
                                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                                <path d="M20.055 7.983c.011.174.011.347.011.523 0 5.338-3.92 11.494-11.09 11.494v-.003A10.755 10.755 0 0 1 3 18.186c.308.038.618.057.928.058a7.655 7.655 0 0 0 4.841-1.733c-1.668-.032-3.13-1.16-3.642-2.805a3.753 3.753 0 0 0 1.76-.07C5.07 13.256 3.76 11.6 3.76 9.676v-.05a3.77 3.77 0 0 0 1.77.505C3.816 8.945 3.288 6.583 4.322 4.737c1.98 2.524 4.9 4.058 8.034 4.22a4.137 4.137 0 0 1 1.128-3.86A3.807 3.807 0 0 1 19 5.274a7.657 7.657 0 0 0 2.475-.98c-.29.934-.9 1.729-1.713 2.233A7.54 7.54 0 0 0 22 5.89a8.084 8.084 0 0 1-1.945 2.093Z"></path>
                                            </svg>
                                        </a>
                                    </li>
                                    <li>
                                        <a title="Follow on Mastodon" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://reidodon.net/@layoric">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500" width="24" height="24" viewBox="0 0 24 24">
                                                <path fill="currentColor" d="M20.94 14c-.28 1.41-2.44 2.96-4.97 3.26c-1.31.15-2.6.3-3.97.24c-2.25-.11-4-.54-4-.54v.62c.32 2.22 2.22 2.35 4.03 2.42c1.82.05 3.44-.46 3.44-.46l.08 1.65s-1.28.68-3.55.81c-1.25.07-2.81-.03-4.62-.5c-3.92-1.05-4.6-5.24-4.7-9.5l-.01-3.43c0-4.34 2.83-5.61 2.83-5.61C6.95 2.3 9.41 2 11.97 2h.06c2.56 0 5.02.3 6.47.96c0 0 2.83 1.27 2.83 5.61c0 0 .04 3.21-.39 5.43M18 8.91c0-1.08-.3-1.91-.85-2.56c-.56-.63-1.3-.96-2.23-.96c-1.06 0-1.87.41-2.42 1.23l-.5.88l-.5-.88c-.56-.82-1.36-1.23-2.43-1.23c-.92 0-1.66.33-2.23.96C6.29 7 6 7.83 6 8.91v5.26h2.1V9.06c0-1.06.45-1.62 1.36-1.62c1 0 1.5.65 1.5 1.93v2.79h2.07V9.37c0-1.28.5-1.93 1.51-1.93c.9 0 1.35.56 1.35 1.62v5.11H18V8.91Z"/>
                                            </svg>
                                        </a>
                                    </li>
                                    <li>
                                        <a title="Follow on GitHub" class="mr-1 group flex text-sm font-medium text-zinc-800 transition hover:text-indigo-500 dark:text-zinc-200 dark:hover:text-indigo-500" href="https://github.com/layoric">
                                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none text-zinc-500 fill-zinc-500 transition group-hover:fill-indigo-500">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.475 2 2 6.588 2 12.253c0 4.537 2.862 8.369 6.838 9.727.5.09.687-.218.687-.487 0-.243-.013-1.05-.013-1.91C7 20.059 6.35 18.957 6.15 18.38c-.113-.295-.6-1.205-1.025-1.448-.35-.192-.85-.667-.013-.68.788-.012 1.35.744 1.538 1.051.9 1.551 2.338 1.116 2.912.846.088-.666.35-1.115.638-1.371-2.225-.256-4.55-1.14-4.55-5.062 0-1.115.387-2.038 1.025-2.756-.1-.256-.45-1.307.1-2.717 0 0 .837-.269 2.75 1.051.8-.23 1.65-.346 2.5-.346.85 0 1.7.115 2.5.346 1.912-1.333 2.75-1.05 2.75-1.05.55 1.409.2 2.46.1 2.716.637.718 1.025 1.628 1.025 2.756 0 3.934-2.337 4.806-4.562 5.062.362.32.675.936.675 1.897 0 1.371-.013 2.473-.013 2.82 0 .268.188.589.688.486a10.039 10.039 0 0 0 4.932-3.74A10.447 10.447 0 0 0 22 12.253C22 6.588 17.525 2 12 2Z"></path>
                                            </svg>
                                        </a>
                                    </li>
                            </ul>
                    </div>
                </div>
                <div class="mb-4 max-w-sm" data-mail="JoinMailingList" data-props="{ submitLabel:'Join our newsletter' }"></div>
            </div>
            <div class="mb-8 md:mb-16 sm:mx-0">
                <div class="sm:mx-0">
                    <img src="./img/posts/autoquery-xkcd/drawing-xkcd-upscaled.jpg" alt="Bringing xkcd static dataset to life with AutoQuery Background" class="shadow-small">
                </div>
            </div>
            <div class="mb-4 max-w-3xl mx-auto flex flex-wrap">
                    <a href="posts/tagged/autoquery" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">autoquery</a>
                    <a href="posts/tagged/db" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">db</a>
                    <a href="posts/tagged/dev" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">dev</a>
                    <a href="posts/tagged/huggingface" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">huggingface</a>
                    <a href="posts/tagged/vue-js" class="mr-2 text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5">vue.js</a>
            </div>
                <div class="max-w-3xl mx-auto">
                    <div class="mb-6 text-lg text-gray-500">
                        <time datetime="2023-04-15T00:00:00.0000000">April 15, 2023</time>
                        <span aria-hidden="true">&middot;</span>
                        <span>15 min read</span>
                    </div>
                </div>
            <div class="max-w-3xl mx-auto">
                <div id="post" class="prose lg:prose-xl max-w-none mb-32">
                    <p>One of the big advantages of using AutoQuery is the ability to turn data into an API with very little effort.</p>
<p>Once your data is exposed as an API, you can use it in any way you want, whether that's a web app, a mobile app, a desktop app, or even a CLI.</p>
<h1 id="unsiloing-data-with-autoquery">Unsiloing Data with AutoQuery<a class="header-anchor" href="javascript:;" onclick="location.hash='#unsiloing-data-with-autoquery'" aria-label="Permalink">&ZeroWidthSpace;</a></h1>
<p>A problem I encountered when working for a weather forecasting company is that modelers and data scientists would often create datasets that were only accessible via Jupyter notebook or a Python script which is hard to reuse or share.
This meant that the data was only accessible to a small number of people, and it was difficult to share the data with other teams or to use the data in other applications.
Some of these notebooks and scripts would need to use massive datasets for a very small amount of data. The company specialized in weather data and experiments could pull down 100s of GBs of data, but only use a few MBs of it.</p>
<p>Poor data accessibility is still something that slows down teams. While it is 'easier' sometimes for a single developer/modeler/data scientist to just pull data from static files, not having shared access to the data can make it difficult to reproduce or reuse.
Web APIs help un-silo the data, create more efficient access points and reduce the time it takes to get data from an experiment into a production application.</p>
<p>ServiceStack and AutoQuery can help solve this problem by making it easy to expose data as an API, and by simplifying the use of that data in any application.</p>
<div class="relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 pb-40">
        <div class="aspect-w-16 aspect-h-9">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/CrKtXVrPj8Q"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
        </div>
    </div>
</div>
<p>In this post, we'll look at how to use AutoQuery to create a web app from a dataset, and to make it a bit of fun, we are going to use a dataset of XKCD comics.
This dataset is from HuggingFace's <a href="https://huggingface.co/datasets/olivierdehaene/xkcd">datasets</a> repository if you want to repeat
the process yourself, but any dataset in formats like CSV, JSON, etc or in an existing SQL database like SQLite will work with the same approach.</p>
<h2 id="what-is-the-dataset">What is the dataset?<a class="header-anchor" href="javascript:;" onclick="location.hash='#what-is-the-dataset'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The dataset is licensed under the Creative Commons Attribution-ShareAlike 3.0 license, and the code for this example is available on GitHub.</p>
<p>The dataset contains metadata of 2630 comics from the XKCD website, with the following fields:</p>
<ul>
<li>id</li>
<li>title</li>
<li>url: xkcd.com URL</li>
<li>image_url</li>
<li>explained_url: explainxkcd.com URL</li>
<li>transcript: english text transcript of the comic</li>
<li>explanation: english explanation of the comic</li>
</ul>
<h2 id="autoquery-datasources">AutoQuery Datasources<a class="header-anchor" href="javascript:;" onclick="location.hash='#autoquery-datasources'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>AutoQuery support different ways of accessing data to make it flexible for different use cases.
The most common way to access data is via a SQL database using <code>AutoQuery RDBMS</code>, but also supports using <code>AutoQuery Data</code> which can with in-memory data, another service or even AWS DynamoDb.</p>
<p>This this example, our data is in a JSONL file which separates row entries by a new line, so we could use AutoQuery Data to load the data into memory and expose it as an API.</p>
<p>First we will <a href="https://github.com/NetCoreApps/ssg-examples/blob/master/ExampleDataApis.ServiceModel/Xkcd.cs">declare a class that represents a row of data from our file</a>.</p>
<pre><code class="language-csharp">public class XkcdComic
{
    public int Id { get; set; }
    public string Title { get; set; }
    public string ImageTitle { get; set; }
    public string Url { get; set; }
    public string ImageUrl { get; set; }
    public string ExplainedUrl { get; set; }
    public string Transcript { get; set; }
    public string Explanation { get; set; }
}
</code></pre>
<p>And then <a href="https://github.com/NetCoreApps/ssg-examples/blob/master/ExampleDataApis/Configure.Db.Xkcd.cs#L13">load our data into memory from the JSONL file</a>.</p>
<pre><code class="language-csharp">var allLines = &quot;path/to/your/dataset.jsonl&quot;.ReadAllText().Split(&quot;\n&quot;);
using var jsonConfig = JsConfig.With(new Config {
    TextCase = TextCase.SnakeCase
});
var comics = allLines
    .Where(x =&gt; !x.IsNullOrEmpty())
    .Select(JsonSerializer.DeserializeFromString&lt;XkcdComic&gt;)
    .ToList();
</code></pre>
<p>Now we can add our data as a AutoQueryData source when configuring our AppHost and the <code>AutoQueryDataFeature</code> Plugin.</p>
<pre><code class="language-csharp">//AutoQuery Data Plugin
Plugins.Add(new AutoQueryDataFeature { MaxLimit = 100 }
    .AddDataSource(ctx =&gt; ctx.MemorySource(comics))
);
</code></pre>
<p>And lastly, to expose the data over an API, we declare a Request DTO that inherits from <code>QueryData&lt;XKCDComic&gt;</code>.</p>
<pre><code class="language-csharp">[Route(&quot;/xkcd&quot;)]
public class QueryXkcdComicData : QueryData&lt;XkcdComic&gt; {}
</code></pre>
<p>We now have a web API that exposes the our static dataset as an API. Any this already support a lot of different ways you can sort and filter data while also supporting different formats like JSON, CSV, XML and others.</p>
<h2 id="using-querydb">Using QueryDb<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-querydb'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Alternatively to using AutoQuery Data, we can use AutoQuery RDBMS to access our data from a SQLite database.
This is useful if you have a large dataset that you want to query, but don't want to load all the data into memory.</p>
<p>First we will load the data into the SQLite database.</p>
<pre><code class="language-csharp">var dbFactory = new OrmLiteConnectionFactory(&quot;App_Data/db.sqlite&quot;, SqliteDialect.Provider);
container.Register&lt;IDbConnectionFactory&gt;(dbFactory);

using var db = dbFactory.Open();
if (db.CreateTableIfNotExists&lt;XkcdComic&gt;())
{
    db.InsertAll(comics);
}
</code></pre>
<p>Now we can use <code>QueryDb&lt;T&gt;</code> instead of <code>QueryData&lt;T&gt;</code> to access the data from the database, and <a href="https://github.com/NetCoreApps/ssg-examples/blob/master/ExampleDataApis/Configure.AutoQuery.cs">use the AutoQueryFeature Plugin</a> instead of <code>AutoQueryDataFeature</code>.</p>
<pre><code class="language-csharp">//AutoQuery Plugin for RDBMS
Plugins.Add(new AutoQueryFeature { MaxLimit = 100 });
// Use QueryDb&lt;T&gt; instead of QueryData&lt;T&gt;.
[Route(&quot;/xkcd&quot;)]
public class QueryXkcdComics : QueryDb&lt;XkcdComic&gt; {}
</code></pre>
<p>And that's it, we now have an API that we can use to query our XKCD comics data.</p>
<h2 id="locode">Locode<a class="header-anchor" href="javascript:;" onclick="location.hash='#locode'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>One of the advantages of loading our data into SQLite is taking advantage of the built in Locode App that comes with the <code>ServiceStack.Server</code> library.
Restarting the application, we can now navigate to the Locode App at <code>http://localhost:5000/locode</code> and see our XKCD comics data.</p>
<p><a href="https://ssg-examples.netcore.io/locode/QueryXkcdComics"><img src="/img/posts/autoquery-xkcd/locode-app.png" alt="Locode App" /></a></p>
<p>Looking at the UI, we can see we get a table of data with filtering capabilities in a user friendly way.
Locode is driven off the web services that are exposed by the AutoQuery API, so we can also use the same data to create a web app.</p>
<p>We can look at the endpoint itself and the default <a href="https://docs.servicestack.net/auto-html-api">Auto HTML API page</a> to see how to interact with the API in 10 different languages.</p>
<p><a href="https://ssg-examples.netcore.io/api/QueryXkcdComics?take=25&amp;format=html"><img src="/img/posts/autoquery-xkcd/autohtml-page.png" alt="AutoHtml page" /></a></p>
<h2 id="creating-a-web-app-with-razor-and-vue.js">Creating a web app with Razor and Vue.js<a class="header-anchor" href="javascript:;" onclick="location.hash='#creating-a-web-app-with-razor-and-vue.js'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Now our dataset is available from an API, it is far more accessible to using in a variety of different ways.
In this example, we've hosted our dataset as a web API, and there is a <a href="https://ssg-examples.netcore.io/ui/QueryXkcdComics">live demo of the API</a> we can use to create a web app.</p>
<p>We can do this from whatever language you prefer, but for this example, we'll use Razor and Vue.js via the <a href="https://github.com/NetCoreTemplates/razor-ssg">ServiceStack razor-ssg template</a>, and the <a href="https://docs.servicestack.net/vue/">ServiceStack Vue library</a> to create our web app.
One of the reasons we chose to use this template is because we can prerender the whole application as a static site and deploy it to any CDN including GitHub Pages.</p>
<p>You will need the ServiceStack dotnet <code>x</code> tool installed to create a new project from the template.</p>
<div data-component="CopyLine" data-props="{ text: 'dotnet tool install -g x' }"></div>
<p>First we'll create a new project from the template.</p>
<div data-component="CopyLine" data-props="{ text: 'x new razor-ssg Xkcd' }"></div>
<p>This template comes with <strong>Vue 3</strong> and <strong>TailwindCSS</strong> already configured, so we can get started right away.
It also utilizes <a href="./posts/javascript">JavaScript modules</a>, so we can use the <code>import</code> syntax to import the ServiceStack Vue library without having to use a bundler like Webpack.
We can also create these Vue components inline on our razor pages, which will then be served as static files.This gives us instant feedback when we make changes to our code, instead of having to wait for a build step to complete.</p>
<p>Since our dataset is available directly from our API, this application doesn't need a dataset or other storage and adds another way we can interact with our dataset.</p>
<h2 id="creating-a-page-with-razor-and-vue.js">Creating a page with Razor and Vue.js<a class="header-anchor" href="javascript:;" onclick="location.hash='#creating-a-page-with-razor-and-vue.js'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Now we can create a page to display our XKCD comics data.
We can do this by creating a new Razor page in the <code>Pages</code> folder, and then add a <code>@page</code> directive to the top of the file to declare the route.
We are also going to add the <code>[RenderStatic]</code> attribute to the page to tell the ServiceStack razor-ssg template to prerender the page as a static site.</p>
<p>This server render the page, and then fetch data with Vue.js, which works the same when the page is rendered as static.</p>
<pre><code class="language-html">@page &quot;/comics-datagrid&quot;
@attribute [RenderStatic]

@{
    ViewData[&quot;Title&quot;] = &quot;Xkcd Comics&quot;;
}

&lt;div class=&quot;py-8&quot;&gt;
    &lt;div class=&quot;mx-auto max-w-7xl px-4 sm:px-6 lg:px-8&quot;&gt;
        &lt;div id=&quot;app&quot;&gt;
            &lt;data-grid :items=&quot;comics&quot;&gt;&lt;/data-grid&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;script type=&quot;module&quot;&gt;
    import { ref, onMounted } from &quot;vue&quot;
    import { QueryXkcdComics } from &quot;dtos.mjs&quot;
    import { useClient, useUtils } from &quot;@@servicestack/vue&quot;
    import { mount } from &quot;/mjs/app.mjs&quot;

    const App = {
        props: {comics: Array},
        setup(props) {
            const client = useClient()
            const {pushState} = useUtils()
            const comics = ref(props.comics || [])
            const request = ref(new QueryXkcdComics({ take:25 }))

            async function submit() {
                let results = await client.api(request.value)
                comics.value = results.response.results
            }
            onMounted(submit)

            return { comics, request, submit, client }
        }
    };

    mount('#app', App)
&lt;/script&gt;
</code></pre>
<p>Since we don't yet have the data, we also need to use the ServiceStack client to fetch the data from the API.
We can do this with the <code>useClient</code> hook, which will return the <code>JsonServiceClient</code> instance.</p>
<pre><code class="language-javascript">import { useClient, useUtils } from &quot;@@servicestack/vue&quot;
//...
const client = useClient()
</code></pre>
<h2 id="creating-a-vue-component">Creating a Vue component<a class="header-anchor" href="javascript:;" onclick="location.hash='#creating-a-vue-component'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Since we don't yet have the data, we also need to use the ServiceStack client to fetch the data from the API.
We can do this with the <code>useClient</code> hook, which will return the <code>JsonServiceClient</code> instance.</p>
<pre><code class="language-javascript">const request = ref(new QueryXkcdComics({ take:25 }))

async function submit() {
    let results = await client.api(request.value)
    comics.value = results.response.results
}
onMounted(submit)
</code></pre>
<h2 id="generating-the-dtos">Generating the DTOs<a class="header-anchor" href="javascript:;" onclick="location.hash='#generating-the-dtos'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>However, we don't yet have the <code>QueryXkcdComics</code> Request DTO available in our application since the template isn't aware of the use of the external API.
By default the <code>mjs/dtos.mjs</code> file uses the <code>BaseUrl</code> of <code>https://localhost:5001</code> to generate the DTOs, but our data is hosted at <code>https://ssg-examples.netcore.io</code>.
We can either change this <code>BaseUrl</code> in the <code>dtos.mjs</code> file or just delete it and regenerate it using:</p>
<div data-component="CopyLine" data-props="{ text: 'x mjs https://ssg-examples.netcore.io' }"></div>
<p>Any additional updates will read from this <code>BaseUrl</code> and update the <code>dtos.mjs</code> file with the latest DTOs using the command:</p>
<div data-component="CopyLine" data-props="{ text: 'x mjs' }"></div>
<p>This command pulls the generated DTOs from the ServiceStack server, and updates the <code>mjs/dtos.mjs</code> file with the latest DTOs.
And this workflow works for any of the ServiceStack client libraries and supported languages.</p>
<p><img src="/img/posts/autoquery-xkcd/vue-datagrid.png" alt="data-grid component" /></p>
<p>Here we can see the use of the ServiceStack Vue components library and the <code>data-grid</code> component.
The <code>data-grid</code> component is a built in component that will render the data in a table within minimal markup.
This can be a great way to get the instant usability of a table without having to write a lot of code, and it can be used anywhere in your application.</p>
<p>The <code>data-grid</code> itself simply takes the <code>comics</code> array assigned to the <code>items</code> prop, and renders the data in a table.</p>
<pre><code class="language-html">&lt;div id=&quot;app&quot;&gt;
    &lt;data-grid :items=&quot;comics&quot;&gt;&lt;/data-grid&gt;
&lt;/div&gt;
</code></pre>
<p>The <code>data-grid</code> component also has a number of other props that can be used to customize the table, such as <code>selected-columns</code> and <code>header-titles</code>.
Let's now customize the <code>data-grid</code> so we can have a view of the comics.</p>
<pre><code class="language-html">&lt;data-grid :items=&quot;comics&quot;
           selected-columns=&quot;imageUrl,transcript&quot;
           v-on:row-selected=&quot;rowSelected&quot; :is-row-selected=&quot;row =&gt; row == selected&quot;
           :header-titles=&quot;{ imageUrl:'Comic',transcript: 'Description' }&quot;
           class=&quot;max-w-screen-lg mx-auto&quot;&gt;
    &lt;template #imageUrl=&quot;{ imageUrl }&quot;&gt;
        &lt;img :src=&quot;imageUrl&quot; class=&quot;h-48 object-cover&quot; loading=&quot;lazy&quot;&gt;
    &lt;/template&gt;
    &lt;template #transcript=&quot;{ title, transcript, width, height }&quot;&gt;
        &lt;div class=&quot;flex flex-col max-w-3xl&quot;&gt;
            &lt;div class=&quot;flex justify-between&quot;&gt;
                &lt;h2 class=&quot;text-lg font-semibold text-gray-900&quot;&gt;{‎{ title }‎}&lt;/h2&gt;
                &lt;div class=&quot;text-right text-sm font-semibold block&quot;&gt;{‎{width}‎} x {‎{height}‎}&lt;/div&gt;
            &lt;/div&gt;
            &lt;p class=&quot;whitespace-normal break-words overflow-hidden max-h-40&quot;&gt;{‎{ transcript }‎}&lt;/p&gt;
        &lt;/div&gt;
    &lt;/template&gt;
&lt;/data-grid&gt;
&lt;modal-comic v-if=&quot;selected&quot; :comic=&quot;selected&quot; v-on:done=&quot;selected=null&quot;&gt;&lt;/modal-comic&gt;
</code></pre>
<p>Above we've added a few more props to the <code>data-grid</code> component to customize the columns we want to display using <code>selected-columns</code>, and the titles of the columns by setting <code>header-titles</code> to a map of the column names to the titles we want to display.
We are also using <code>templates</code> to customize the rendering of the <code>imageUrl</code> and <code>transcript</code> columns to have more control over the layout.</p>
<p><a href="https://xkcd.netcore.io/comics-datagrid"><img src="/img/posts/autoquery-xkcd/vue-datagrid-custom.png" alt="Customized data-grid component" /></a></p>
<h2 id="autoquerygrid-vs-datagrid">AutoQueryGrid vs DataGrid<a class="header-anchor" href="javascript:;" onclick="location.hash='#autoquerygrid-vs-datagrid'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>While the <code>data-grid</code> component is a great way to get a table up and running quickly, we can get even more functionality with the <code>auto-query-grid</code> component.
The <code>auto-query-grid</code> component is a wrapper around the <code>data-grid</code> component that adds a number of features to make it easier to use.</p>
<p>The <code>auto-query-grid</code> component will automatically fetch the data for you, and we can customize our columns using the same <code>template</code> pattern as the <code>data-grid</code>.</p>
<pre><code class="language-html">&lt;auto-query-grid type=&quot;XkcdComic&quot;
     selected-columns=&quot;imageUrl,width,height,id,title,transcript,explanation,url&quot;
     :visible-from=&quot;{ title:'sm', transcript:'xl', explanation:'2xl', url:'never' }&quot;
     :header-titles=&quot;{ imageUrl:'Comic', transcript:'Description' }&quot;
     v-on:row-selected=&quot;rowSelected&quot;
     class=&quot;mx-auto&quot;&gt;
    &lt;template #imageUrl=&quot;{ id, imageUrl }&quot;&gt;
        &lt;img :src=&quot;imageUrl&quot; class=&quot;h-12 object-cover&quot; loading=&quot;lazy&quot;&gt;
    &lt;/template&gt;
    &lt;template #transcript=&quot;{ transcript }&quot;&gt;
        &lt;p class=&quot;block max-w-sm text-ellipsis overflow-hidden&quot; 
           :title=&quot;transcript&quot;&gt;{‎{ transcript }‎}
        &lt;/p&gt;
    &lt;/template&gt;
    &lt;template #explanation=&quot;{ explanation }&quot;&gt;
        &lt;p class=&quot;block max-w-sm text-ellipsis overflow-hidden&quot;&gt;{‎{ explanation }‎}&lt;/p&gt;
    &lt;/template&gt;
&lt;/auto-query-grid&gt;
&lt;modal-comic v-if=&quot;selected&quot; :comic=&quot;selected&quot; v-on:done=&quot;selected=null&quot;&gt;&lt;/modal-comic&gt;
</code></pre>
<p>So the only custom behavior code you need is to wire up the <code>modal-comic</code> component to the <code>auto-query-grid</code> component, is the following:</p>
<pre><code class="language-js">setup(props) {
    const selected = ref()
    function rowSelected(comic,e) {
        selected.value = comic
    }
    return { selected, rowSelected }
}
</code></pre>
<h2 id="custom-grid-with-a-search-box">Custom Grid with a Search Box<a class="header-anchor" href="javascript:;" onclick="location.hash='#custom-grid-with-a-search-box'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>We can also fetch the data from the API dynamically using the <code>JsonServiceClient</code> from the ServiceStack Vue library, and use AutoQuery to easily filter for the data we want.</p>
<p>Let's create a separate page that will allow us to search comics by title, this time on our Index page.
We'll update our <code>Index.cshtml</code> file to the following markup.</p>
<p>First we'll add a search box to the top of the page to allow us to search for comics by title then display xkcd comics in a custom flexbox:</p>
<pre><code class="language-html">&lt;div id=&quot;app&quot;&gt;
    &lt;div class=&quot;flex flex-1 flex-col overflow-hidden&quot;&gt;
        &lt;div class=&quot;mb-8 mx-auto w-96&quot;&gt;
            &lt;h2 class=&quot;text-center mb-4 max-w-4xl font-display 
                       text-5xl font-bold tracking-tight text-slate-800 
                       dark:text-slate-200&quot;&gt;
                search xkcd
            &lt;/h2&gt;
            &lt;text-input v-cloak 
                        class=&quot;w-full w-prose w-100&quot; 
                        type=&quot;search&quot; 
                        v-model=&quot;searchTerm&quot; 
                        placeholder=&quot;search xkcd comic titles&quot;&gt;
                
            &lt;/text-input&gt;
        &lt;/div&gt;
        &lt;div v-cloak&gt;
            &lt;div v-if=&quot;!loading &amp;&amp; hasInit&quot; 
                 class=&quot;w-full pb-4 bg-white dark:bg-black border 
                        border-black flex flex-wrap&quot;&gt;
                &lt;div v-if=&quot;comics.length&quot; 
                     class=&quot;border-2 border-slate-700 ml-4 mt-4 p-4 
                            flex justify-center items-center 
                            hover:shadow-lg hover:bg-slate-50 
                            dark:hover:bg-slate-900 max-w-[48%]&quot; 
                     v-for=&quot;comic in comics&quot;&gt;
                    &lt;div v-on:click=&quot;showModal(comic)&quot; 
                         class=&quot;cursor-pointer&quot;&gt;
                        &lt;h2 class=&quot;mb-4 text-lg font-semibold text-gray-900 
                                   dark:text-gray-100 text-center&quot;&gt;
                            {‎{ comic.title }‎}
                        &lt;/h2&gt;
                        &lt;img :src=&quot;comic.imageUrl&quot; :width=&quot;comic.width&quot; 
                             :height=&quot;comic.height&quot; class=&quot;h-48 object-cover&quot; 
                             :aria-description=&quot;comic.explanation&quot; 
                             :alt=&quot;comic.transcript&quot; loading=&quot;lazy&quot;&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div v-else class=&quot;w-full&quot;&gt;
                    &lt;h4 class=&quot;text-center text-lg pt-8 pb-4&quot;&gt;
                        query returned no results
                    &lt;/h4&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div v-else class=&quot;flex justify-center items-center pt-8&quot;&gt;
                &lt;loading&gt;searching xkcd...&lt;/loading&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;modal-comic v-if=&quot;selected&quot; :comic=&quot;selected&quot; 
                     v-on:done=&quot;done&quot;&gt;
        &lt;/modal-comic&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Let's create our new component to display our initial data in a grid layout, and also have a search box at the top that we can use to make additional API calls to filter the data from the AutoQuery API.
We can do this again by using the <code>JsonServiceClient</code> with the Request DTO related to the API we want to call, but this time we will also pass some additional parameters to the <code>QueryXkcdComics</code> DTO to filter the data.</p>
<pre><code class="language-js">import { ref, watch, onMounted } from &quot;vue&quot;
import { mount } from &quot;app.mjs&quot;
import { QueryXkcdComics } from &quot;dtos.mjs&quot;
import { useClient, useUtils } from &quot;@@servicestack/vue&quot;
import { queryString } from &quot;@@servicestack/client&quot;
const App = {
    setup(props) {
        const comics = ref(props.comics || [])
        const qs = queryString(location.search)
        const searchTerm = ref(qs.q || '')
        const client = useClient()
        const { pushState } = useUtils()
        const selected = ref()

        const loading = ref(false)
        const hasInit = ref(false)
        onMounted(async () =&gt; {
            if (qs.q) {
                let api = await client.api(
                    new QueryXkcdComics({ titleContains:searchTerm.value, orderByDesc:'id' }))
                comics.value = api.response.results
            } else {
                await init()
            }
            if (qs.id) {
                showModal(comics.value.find(x =&gt; x.id == qs.id))
            }
            hasInit.value = true
        })

        async function init() {
            loading.value = true;
            let randomIds = generateRandomNumbers(1,2630,12)
            if (qs.id) randomIds.unshift(parseInt(qs.id))
            let results = await client.api(new QueryXkcdComics({ ids:randomIds }))
            comics.value = results.response.results
            loading.value = false
        }
        const searchApi = createDebounce(async (query) =&gt; {
            if (!query || query.length === 0) {
                pushState({ q: undefined })
                let randomIds = generateRandomNumbers(1,2630,12);
                let api = await client.api(new QueryXkcdComics({ ids:randomIds }))
                if (api.succeeded) {
                    comics.value = api.response.results
                }
            } else {
                pushState({ q: searchTerm.value })

                await (async (titleContains) =&gt; {
                    let api = await client.api(
                        new QueryXkcdComics({ titleContains, orderByDesc:'id' }))
                    // discard any invalidated api responses
                    if (titleContains === searchTerm.value) {
                        comics.value = api.response.results
                    }
                })(searchTerm.value)
            }
            loading.value = false
        },250)
        watch(searchTerm, async(newValue,oldValue) =&gt; {
            loading.value = true
            searchApi(newValue)
        })
        function createDebounce(fnc, delayMs) {
            let timeout = null;
            return (...args) =&gt; {
                clearTimeout(timeout);
                timeout = setTimeout(() =&gt; {
                    fnc(...args);
                }, delayMs || 500);
            };
        }

        function showModal(comic) {
            selected.value = comic;
            pushState({ id:comic?.id || undefined })
        }
        function done() {
            showModal(null)
        }
        function generateRandomNumbers(low, high, count) {
            const result = [];
            for (let i = 0; i &lt; count; i++) {
                result.push(Math.floor(Math.random() * (high - low + 1) + low));
            }
            return result;
        }

        return { comics, searchTerm, hasInit, loading, selected, showModal, done }
    },
}
mount('#app', App)
</code></pre>
<p>Notice here we're creating the Request DTO with:</p>
<pre><code class="language-csharp">new QueryXkcdComics({ titleContains, orderByDesc:'id' })
</code></pre>
<p>The <code>titleContains</code> property is interpreted by the AutoQuery API to filter the results by the <code>title</code> column in our
SQLite database by the populated property value.</p>
<p>We didn't need to add this additional functionality, and this syntax works for any matching property on the DTO.
E.g, we could have used <code>explanationContains</code> to filter the results by the <code>explanation</code> column in our SQLite database on our API server.
AutoQuery has many of these types of features built in that work out of the box, and since AutoQuery services are ServiceStack services,
you can customize their behaviour by adding your own custom logic to the service.</p>
<p><a href="https://xkcd.netcore.io/?q=physics"><img src="/img/posts/autoquery-xkcd/column-vue-search-physics.png" alt="Filtering comics by title" /></a></p>
<h2 id="conclusion">Conclusion<a class="header-anchor" href="javascript:;" onclick="location.hash='#conclusion'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>In this post we've seen how we can use the AutoQuery API to quickly create a REST API for our data, and then use the ServiceStack Vue library to quickly create a Vue application that can consume the API.
We've also seen how we can use the <code>x</code> tool to update our client DTOs to match the latest generated DTOs from the ServiceStack server.</p>
<p>This typed end-to-end workflow is a great way to quickly create a full-stack application, and the ServiceStack Vue library is a great way to quickly create a Vue application that can consume the AutoQuery API.</p>
<h3 id="links">Links<a class="header-anchor" href="javascript:;" onclick="location.hash='#links'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<ul>
<li><strong>Live Demo UI</strong> - <a href="https://xkcd.netcore.io">https://xkcd.netcore.io</a></li>
<li><strong>Live Demo API</strong> - <a href="https://ssg-examples.netcore.io/ui/QueryXkcdComics">https://ssg-examples.netcore.io/ui/QueryXkcdComics</a></li>
<li><strong>UI Source Code</strong> - <a href="https://github.com/NetCoreApps/Xkcd">https://github.com/NetCoreApps/Xkcd</a></li>
<li><strong>API Source Code</strong> - <a href="https://github.com/NetCoreApps/ssg-examples/blob/master/ExampleDataApis.ServiceModel/Xkcd.cs">ExampleDataApis.ServiceModel/Xkcd.cs</a></li>
</ul>
<p>Let us know what you think of the <a href="https://docs.servicestack.net/vue/">ServiceStack Vue library</a>, and if you have any feedback or suggestions for improvements.</p>
<h3 id="feedback-suggestions">Feedback &amp; Suggestions<a class="header-anchor" href="javascript:;" onclick="location.hash='#feedback-suggestions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<ul>
<li><a href="https://github.com/ServiceStack/Discuss/discussions">ServiceStack/Discuss</a></li>
<li><a href="https://discord.gg/w4ayGbuYpA">#ServiceStack channel on Discord</a></li>
</ul>

                </div>
            </div>
        </article>
</div>

<div data-post="PostComments" class="my-48"></div>

<script type="module">
import { init } from "app.mjs"
init()
</script>

<link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets/styles/atom-one-dark.min.css">
<script src="//unpkg.com/@highlightjs/cdn-assets/highlight.min.js"></script>
<script>hljs.highlightAll()</script>
<script src="js/lite-yt-embed.js"></script>
<script src="mjs/docs.mjs" type="module"></script>

<script src="js/chart.js"></script>
<script type="module">
import { mount } from "app.mjs"
import App from "./mjs/post.mjs"
mount('#post', App)
</script>

  </main>
</div>

<footer class="bg-slate-200 dark:bg-black border-t border-slate-300 dark:border-gray-600 py-8 sm:py-12">
    <div class="max-w-screen-2xl mx-auto px-5">
        <div class="sm:flex sm:flex-wrap sm:-mx-4 md:py-4">
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Features</h5>
                <div>
                    <a href="https://servicestack.net/service-reference" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack Reference</a>
                    <a href="https://servicestack.net/creatorkit/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">CreatorKit</a>
                    <a href="https://servicestack.net/litestream" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Litestream</a>
                    <a href="https://www.jamstacks.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Jamstack</a>
                    <a href="https://www.locode.dev" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Locode</a>
                    <a href="https://servicestack.net/ormlite" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">OrmLite</a>
                    <a href="https://servicestack.net/redis" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Redis</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 sm:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Resources</h5>
                <div>
                    <a href="https://docs.servicestack.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Framework Docs</a>
                    <a href="https://forums.servicestack.net" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Customer Forums</a>
                    <a href="https://docs.servicestack.net/redis/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Redis</a>
                    <a href="https://docs.servicestack.net/ormlite/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.OrmLite</a>
                    <a href="https://docs.servicestack.net/text/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Text</a>
                    <a href="https://docs.servicestack.net/aws" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">ServiceStack.Aws</a>
                    <a href="https://github.com/NetCoreApps/LiveDemos" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Live Demos</a>
                    <a href="https://servicestack.net/posts/" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Blog Archive</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 md:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">Learn</h5>
                <div>
                    <a href="https://docs.servicestack.net/why-servicestack" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Why ServiceStack</a>
                    <a href="https://docs.servicestack.net/architecture-overview" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Architecture</a>
                    <a href="https://docs.servicestack.net/explore-servicestack" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Explore ServiceStack</a>
                    <a href="https://docs.servicestack.net/api-first-development" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">API First Development</a>
                    <a href="https://docs.servicestack.net/service-complexity-and-dto-roles" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">The Simple POCO Life</a>
                    <a href="https://servicestack.net/training" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Training Services</a>
                </div>
            </div>
            <div class="px-4 sm:w-1/2 md:w-1/4 xl:w-1/6 mt-8 md:mt-0">
                <h5 class="block uppercase text-slate-500 font-semibold mb-4">About</h5>
                <div>
                    <a href="https://servicestack.net/support" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Support</a>
                    <a href="https://servicestack.net/whatsnew" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">What's New</a>
                    <a href="https://servicestack.net/#contact" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Contact Us</a>
                    <a href="https://servicestack.net/privacy" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Privacy</a>
                    <a href="https://servicestack.net/terms" class="text-slate-600 hover:text-slate-800 dark:hover:text-slate-100 font-semibold block pb-2 text-sm">Terms</a>
                </div>
            </div>
            <div class="px-4 mt-4 flex justify-end">
                <div class="max-w-sm">
                    <div class="mx-auto">
                        <h5 class="block uppercase text-slate-500 font-semibold mb-4">Stay connected</h5>

                        <div class="mt-6 lg:mb-0 mb-6">
                            <a href="https://twitter.com/ServiceStack" class="inline-block bg-white dark:bg-gray-800 p-2 text-blue-400 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23Z"/></svg>
                            </a>
                            <a href="https://www.youtube.com/channel/UC0kXKGVU4NHcwNdDdRiAJSA" class="inline-block bg-white dark:bg-gray-800 p-2 text-red-600 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M21.543 6.498C22 8.28 22 12 22 12s0 3.72-.457 5.502c-.254.985-.997 1.76-1.938 2.022C17.896 20 12 20 12 20s-5.893 0-7.605-.476c-.945-.266-1.687-1.04-1.938-2.022C2 15.72 2 12 2 12s0-3.72.457-5.502c.254-.985.997-1.76 1.938-2.022C6.107 4 12 4 12 4s5.896 0 7.605.476c.945.266 1.687 1.04 1.938 2.022zM10 15.5l6-3.5l-6-3.5v7z"/></svg>
                            </a>
                            <a href="https://github.com/ServiceStack" class="inline-block bg-white dark:bg-gray-800 p-2 text-slate-800 shadow-lg font-normal items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2">
                                <svg class="h-6 w-6 dark:text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
                            </a>
                        </div>
                    </div>
                    <div class="mt-8" data-mail="JoinMailingList" data-props="{ submitLabel:'Join our newsletter' }"></div>
                </div>
            </div>
        </div>

        <div class="sm:flex sm:flex-wrap sm:-mx-4 mt-6 pt-6 sm:mt-12 sm:pt-12 border-t dark:border-gray-700">
            <div class="sm:w-full px-4 md:w-1/6">
                <b>About ServiceStack</b>
            </div>
            <div class="px-4 sm:w-1/2 mt-4 md:mt-0 text-sm text-gray-600">
                ServiceStack started development in 2008 with the mission of creating a best-practices services framework
                with an emphasis on simplicity and speed, reducing the effort in creating and maintaining resilient
                message-based SOA Services and rich web apps.

                <p class="pt-2">Copyright (c) ServiceStack Inc. 2023</p>
            </div>
            <div class="px-4 md:w-1/4 md:ml-auto mt-6 sm:mt-4 md:mt-0">
                <a href="https://servicestack.net/start"
                   class="bg-slate-800 text-white active:bg-slate-600 text-sm font-semibold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150">
                    Get started
                </a>
            </div>
        </div>        
        
    </div>
</footer>

<script type="module">
import { mail } from 'https://creatorkit.servicestack.net/mjs/components/mail.mjs'
import { post } from 'https://creatorkit.servicestack.net/mjs/components/post.mjs'

mail('[data-mail]', { mailingLists:['MonthlyNewsletter'] })
post('[data-post]', {
    commentLink: { 
        href: '/community-rules',
        label: 'read the community rules'
    } 
})
</script>


</body>
</html>